<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.58">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="icon" href="/blog/favicon.ico"><title>three.js | Warren's</title><meta name="description" content="blog & note">
    <link rel="preload" href="/blog/assets/style-e5c53882.css" as="style"><link rel="stylesheet" href="/blog/assets/style-e5c53882.css">
    <link rel="modulepreload" href="/blog/assets/app-502c1dea.js"><link rel="modulepreload" href="/blog/assets/framework-7e1a102e.js"><link rel="modulepreload" href="/blog/assets/threeJs.html-56b2af0e.js"><link rel="modulepreload" href="/blog/assets/threeJs.html-379c5854.js"><link rel="prefetch" href="/blog/assets/index.html-45c5021c.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-d3d1fca1.js" as="script"><link rel="prefetch" href="/blog/assets/arrayBuffer.html-08db0ad4.js" as="script"><link rel="prefetch" href="/blog/assets/axios.html-8b351322.js" as="script"><link rel="prefetch" href="/blog/assets/bigDataWithFd.html-ec79fa10.js" as="script"><link rel="prefetch" href="/blog/assets/canvas.html-ee702fbf.js" as="script"><link rel="prefetch" href="/blog/assets/codepen.html-b8979dc4.js" as="script"><link rel="prefetch" href="/blog/assets/cssHeart.html-01e04d7c.js" as="script"><link rel="prefetch" href="/blog/assets/designPattern.html-d4b814f6.js" as="script"><link rel="prefetch" href="/blog/assets/dragDropPreview.html-55bd7ef1.js" as="script"><link rel="prefetch" href="/blog/assets/dragMoveElement.html-f54bbe89.js" as="script"><link rel="prefetch" href="/blog/assets/drawBoard.html-75b96584.js" as="script"><link rel="prefetch" href="/blog/assets/examination.html-5965a0a8.js" as="script"><link rel="prefetch" href="/blog/assets/exportDownloadFile.html-9fae7821.js" as="script"><link rel="prefetch" href="/blog/assets/generator.html-03dd0128.js" as="script"><link rel="prefetch" href="/blog/assets/githubHexo.html-273fb6a1.js" as="script"><link rel="prefetch" href="/blog/assets/handWrite.html-a35ae54f.js" as="script"><link rel="prefetch" href="/blog/assets/hBuilderiPhone.html-d260e3c5.js" as="script"><link rel="prefetch" href="/blog/assets/hkVideo.html-95c91c98.js" as="script"><link rel="prefetch" href="/blog/assets/html5device.html-bd3ad972.js" as="script"><link rel="prefetch" href="/blog/assets/hybridApp.html-7f133348.js" as="script"><link rel="prefetch" href="/blog/assets/indexedDB.html-ef54b406.js" as="script"><link rel="prefetch" href="/blog/assets/onlineView.html-cd963ccc.js" as="script"><link rel="prefetch" href="/blog/assets/print.html-9cb2740d.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-90f36e57.js" as="script"><link rel="prefetch" href="/blog/assets/requestAnimationFrame.html-6b0184b8.js" as="script"><link rel="prefetch" href="/blog/assets/scrollbar.html-e92bb7f1.js" as="script"><link rel="prefetch" href="/blog/assets/singlePageRoute.html-2212cd3a.js" as="script"><link rel="prefetch" href="/blog/assets/toastAndLoading.html-0c92d30b.js" as="script"><link rel="prefetch" href="/blog/assets/verticalRoll.html-4ea08146.js" as="script"><link rel="prefetch" href="/blog/assets/weChatGetUserInfo.html-dd277f50.js" as="script"><link rel="prefetch" href="/blog/assets/weChatShare.html-afa8e92e.js" as="script"><link rel="prefetch" href="/blog/assets/xss.html-f147f75a.js" as="script"><link rel="prefetch" href="/blog/assets/dbserver.html-66b0c117.js" as="script"><link rel="prefetch" href="/blog/assets/mysqlMongo.html-180fa67b.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-c2912b8f.js" as="script"><link rel="prefetch" href="/blog/assets/commitLint.html-e802645f.js" as="script"><link rel="prefetch" href="/blog/assets/eslintPrettier.html-21328deb.js" as="script"><link rel="prefetch" href="/blog/assets/generatorTemplate.html-246d1620.js" as="script"><link rel="prefetch" href="/blog/assets/git.html-6c83537f.js" as="script"><link rel="prefetch" href="/blog/assets/markdown.html-d05d5a45.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-9812bc3f.js" as="script"><link rel="prefetch" href="/blog/assets/rollup.html-c373089b.js" as="script"><link rel="prefetch" href="/blog/assets/vite.html-a71e7561.js" as="script"><link rel="prefetch" href="/blog/assets/vueConfig.html-f2a0b992.js" as="script"><link rel="prefetch" href="/blog/assets/webpack.html-0fc6e371.js" as="script"><link rel="prefetch" href="/blog/assets/webpackConfig.html-7c1837e5.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-b18e8647.js" as="script"><link rel="prefetch" href="/blog/assets/bat.html-b9f7a019.js" as="script"><link rel="prefetch" href="/blog/assets/commandLine.html-b31729ab.js" as="script"><link rel="prefetch" href="/blog/assets/deployChanDao.html-3d08ccb0.js" as="script"><link rel="prefetch" href="/blog/assets/docker.html-145c60f3.js" as="script"><link rel="prefetch" href="/blog/assets/jenkins.html-618da2cd.js" as="script"><link rel="prefetch" href="/blog/assets/linux.html-875012af.js" as="script"><link rel="prefetch" href="/blog/assets/mobaXterm.html-cedca4f5.js" as="script"><link rel="prefetch" href="/blog/assets/nginx.html-5f699cd9.js" as="script"><link rel="prefetch" href="/blog/assets/psISE.html-5584f001.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-f3553278.js" as="script"><link rel="prefetch" href="/blog/assets/shell.html-e9a82822.js" as="script"><link rel="prefetch" href="/blog/assets/vMware.html-17dd6d61.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-dbc1c2eb.js" as="script"><link rel="prefetch" href="/blog/assets/softwareChrome.html-5db4feae.js" as="script"><link rel="prefetch" href="/blog/assets/softwareUsage.html-641f02ef.js" as="script"><link rel="prefetch" href="/blog/assets/softwareVSCode.html-9a1fce31.js" as="script"><link rel="prefetch" href="/blog/assets/windowsLinuxMac.html-ca12052b.js" as="script"><link rel="prefetch" href="/blog/assets/algorithm.html-ace6fa6e.js" as="script"><link rel="prefetch" href="/blog/assets/array.html-7000bc43.js" as="script"><link rel="prefetch" href="/blog/assets/browser.html-d46994b7.js" as="script"><link rel="prefetch" href="/blog/assets/dataRequest.html-9606bd1b.js" as="script"><link rel="prefetch" href="/blog/assets/debounceThrottle.html-5cca1d45.js" as="script"><link rel="prefetch" href="/blog/assets/diff.html-4711bfc3.js" as="script"><link rel="prefetch" href="/blog/assets/element.html-38e613fc.js" as="script"><link rel="prefetch" href="/blog/assets/number.html-103e74d2.js" as="script"><link rel="prefetch" href="/blog/assets/object.html-911f1fca.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-a0579fea.js" as="script"><link rel="prefetch" href="/blog/assets/sort.html-4d3e11d1.js" as="script"><link rel="prefetch" href="/blog/assets/string.html-92214675.js" as="script"><link rel="prefetch" href="/blog/assets/time.html-6d692571.js" as="script"><link rel="prefetch" href="/blog/assets/application.html-f57a66ee.js" as="script"><link rel="prefetch" href="/blog/assets/comment.html-93bdd8ea.js" as="script"><link rel="prefetch" href="/blog/assets/dependency.html-e9bbeae0.js" as="script"><link rel="prefetch" href="/blog/assets/grammar.html-587f2eb4.js" as="script"><link rel="prefetch" href="/blog/assets/idea.html-4bf6f73a.js" as="script"><link rel="prefetch" href="/blog/assets/ideaPlugin.html-7184643b.js" as="script"><link rel="prefetch" href="/blog/assets/javaBaseClass.html-bf1c6b6a.js" as="script"><link rel="prefetch" href="/blog/assets/learnNote.html-d5ec1413.js" as="script"><link rel="prefetch" href="/blog/assets/pom.html-49b2a9fc.js" as="script"><link rel="prefetch" href="/blog/assets/problem.html-1201fed1.js" as="script"><link rel="prefetch" href="/blog/assets/springBoot.html-a1db9209.js" as="script"><link rel="prefetch" href="/blog/assets/springBootGrammar.html-546242ac.js" as="script"><link rel="prefetch" href="/blog/assets/accessOrigin.html-cf99ff3e.js" as="script"><link rel="prefetch" href="/blog/assets/eggStart.html-245be0b3.js" as="script"><link rel="prefetch" href="/blog/assets/koaUploadImg.html-a10d255e.js" as="script"><link rel="prefetch" href="/blog/assets/moveFileOrfolder.html-200c755b.js" as="script"><link rel="prefetch" href="/blog/assets/node.html-c8838320.js" as="script"><link rel="prefetch" href="/blog/assets/npm.html-88bdadcf.js" as="script"><link rel="prefetch" href="/blog/assets/package.html-e281eb66.js" as="script"><link rel="prefetch" href="/blog/assets/publishNpm.html-d3e8c5bf.js" as="script"><link rel="prefetch" href="/blog/assets/setAutoIp.html-8a8cb6e8.js" as="script"><link rel="prefetch" href="/blog/assets/yarn.html-1e5fbb49.js" as="script"><link rel="prefetch" href="/blog/assets/python.html-562e59fc.js" as="script"><link rel="prefetch" href="/blog/assets/scrapyStart.html-e26738ff.js" as="script"><link rel="prefetch" href="/blog/assets/animate.html-1c05455d.js" as="script"><link rel="prefetch" href="/blog/assets/css.html-98808ff9.js" as="script"><link rel="prefetch" href="/blog/assets/eCharts.html-65484a65.js" as="script"><link rel="prefetch" href="/blog/assets/electron.html-db8c5208.js" as="script"><link rel="prefetch" href="/blog/assets/flutter.html-1a5ff9cc.js" as="script"><link rel="prefetch" href="/blog/assets/html.html-369935d7.js" as="script"><link rel="prefetch" href="/blog/assets/media.html-6dc0e008.js" as="script"><link rel="prefetch" href="/blog/assets/miniProgram.html-0bc37128.js" as="script"><link rel="prefetch" href="/blog/assets/sass.html-e07a829f.js" as="script"><link rel="prefetch" href="/blog/assets/svg.html-78442843.js" as="script"><link rel="prefetch" href="/blog/assets/uniApp.html-976b3fbe.js" as="script"><link rel="prefetch" href="/blog/assets/webApp.html-241abe07.js" as="script"><link rel="prefetch" href="/blog/assets/array.html-e60b2f48.js" as="script"><link rel="prefetch" href="/blog/assets/bitOperation.html-4614e58a.js" as="script"><link rel="prefetch" href="/blog/assets/class.html-b69c2e4d.js" as="script"><link rel="prefetch" href="/blog/assets/D3.html-197f158b.js" as="script"><link rel="prefetch" href="/blog/assets/javascript.html-5f040b71.js" as="script"><link rel="prefetch" href="/blog/assets/jsEvent.html-6fee49c6.js" as="script"><link rel="prefetch" href="/blog/assets/regexpRules.html-fcd383a9.js" as="script"><link rel="prefetch" href="/blog/assets/typescript.html-26e71e4d.js" as="script"><link rel="prefetch" href="/blog/assets/elementUiTree.html-8ecb778f.js" as="script"><link rel="prefetch" href="/blog/assets/iviewTableEdit.html-4d7b1733.js" as="script"><link rel="prefetch" href="/blog/assets/iviewUdTableHeader.html-06cfbb6e.js" as="script"><link rel="prefetch" href="/blog/assets/react.html-3191cf8d.js" as="script"><link rel="prefetch" href="/blog/assets/reactExam.html-87fb0a11.js" as="script"><link rel="prefetch" href="/blog/assets/rnApp.html-5a3a4779.js" as="script"><link rel="prefetch" href="/blog/assets/vue.html-0d176f3b.js" as="script"><link rel="prefetch" href="/blog/assets/vue3.html-0b8be01b.js" as="script"><link rel="prefetch" href="/blog/assets/vueExam.html-0f73631a.js" as="script"><link rel="prefetch" href="/blog/assets/vueMvvm.html-03648994.js" as="script"><link rel="prefetch" href="/blog/assets/vueSassConfig.html-d0ab9f3a.js" as="script"><link rel="prefetch" href="/blog/assets/404.html-f9875e7b.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-3cff66df.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-9a428296.js" as="script"><link rel="prefetch" href="/blog/assets/arrayBuffer.html-b0513557.js" as="script"><link rel="prefetch" href="/blog/assets/axios.html-6414521e.js" as="script"><link rel="prefetch" href="/blog/assets/bigDataWithFd.html-85e543de.js" as="script"><link rel="prefetch" href="/blog/assets/canvas.html-8b52e2c2.js" as="script"><link rel="prefetch" href="/blog/assets/codepen.html-1798db5a.js" as="script"><link rel="prefetch" href="/blog/assets/cssHeart.html-dbccd011.js" as="script"><link rel="prefetch" href="/blog/assets/designPattern.html-4f959435.js" as="script"><link rel="prefetch" href="/blog/assets/dragDropPreview.html-4817a3c5.js" as="script"><link rel="prefetch" href="/blog/assets/dragMoveElement.html-c4891909.js" as="script"><link rel="prefetch" href="/blog/assets/drawBoard.html-3919bd44.js" as="script"><link rel="prefetch" href="/blog/assets/examination.html-203f4415.js" as="script"><link rel="prefetch" href="/blog/assets/exportDownloadFile.html-070a1788.js" as="script"><link rel="prefetch" href="/blog/assets/generator.html-c668000b.js" as="script"><link rel="prefetch" href="/blog/assets/githubHexo.html-dd0a5c16.js" as="script"><link rel="prefetch" href="/blog/assets/handWrite.html-181f24f9.js" as="script"><link rel="prefetch" href="/blog/assets/hBuilderiPhone.html-ddef6884.js" as="script"><link rel="prefetch" href="/blog/assets/hkVideo.html-5101ca23.js" as="script"><link rel="prefetch" href="/blog/assets/html5device.html-3fa84554.js" as="script"><link rel="prefetch" href="/blog/assets/hybridApp.html-1f3f4c1b.js" as="script"><link rel="prefetch" href="/blog/assets/indexedDB.html-b9b413b4.js" as="script"><link rel="prefetch" href="/blog/assets/onlineView.html-45f65166.js" as="script"><link rel="prefetch" href="/blog/assets/print.html-4a27f1ae.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-0ba3804f.js" as="script"><link rel="prefetch" href="/blog/assets/requestAnimationFrame.html-d8c9e87e.js" as="script"><link rel="prefetch" href="/blog/assets/scrollbar.html-fc17d032.js" as="script"><link rel="prefetch" href="/blog/assets/singlePageRoute.html-cc914081.js" as="script"><link rel="prefetch" href="/blog/assets/toastAndLoading.html-9ae019a1.js" as="script"><link rel="prefetch" href="/blog/assets/verticalRoll.html-f3726b0c.js" as="script"><link rel="prefetch" href="/blog/assets/weChatGetUserInfo.html-5306f4fb.js" as="script"><link rel="prefetch" href="/blog/assets/weChatShare.html-ca1dd79a.js" as="script"><link rel="prefetch" href="/blog/assets/xss.html-b5643b40.js" as="script"><link rel="prefetch" href="/blog/assets/dbserver.html-f818e0f5.js" as="script"><link rel="prefetch" href="/blog/assets/mysqlMongo.html-af41ddfe.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-cc96e842.js" as="script"><link rel="prefetch" href="/blog/assets/commitLint.html-8aaa786a.js" as="script"><link rel="prefetch" href="/blog/assets/eslintPrettier.html-d1e669f8.js" as="script"><link rel="prefetch" href="/blog/assets/generatorTemplate.html-7f1d9814.js" as="script"><link rel="prefetch" href="/blog/assets/git.html-e07181ed.js" as="script"><link rel="prefetch" href="/blog/assets/markdown.html-aa144d5d.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-f8a5137b.js" as="script"><link rel="prefetch" href="/blog/assets/rollup.html-f89b4e46.js" as="script"><link rel="prefetch" href="/blog/assets/vite.html-1dab33e6.js" as="script"><link rel="prefetch" href="/blog/assets/vueConfig.html-e119cacb.js" as="script"><link rel="prefetch" href="/blog/assets/webpack.html-cc2d5ac5.js" as="script"><link rel="prefetch" href="/blog/assets/webpackConfig.html-e9d96ec8.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-22df4bc3.js" as="script"><link rel="prefetch" href="/blog/assets/bat.html-b27de9cb.js" as="script"><link rel="prefetch" href="/blog/assets/commandLine.html-ddd36217.js" as="script"><link rel="prefetch" href="/blog/assets/deployChanDao.html-8e8fe684.js" as="script"><link rel="prefetch" href="/blog/assets/docker.html-2092a2be.js" as="script"><link rel="prefetch" href="/blog/assets/jenkins.html-69e074a1.js" as="script"><link rel="prefetch" href="/blog/assets/linux.html-7aa86476.js" as="script"><link rel="prefetch" href="/blog/assets/mobaXterm.html-d7b8f6fc.js" as="script"><link rel="prefetch" href="/blog/assets/nginx.html-c4b0f397.js" as="script"><link rel="prefetch" href="/blog/assets/psISE.html-a9eb32ce.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-fa28656e.js" as="script"><link rel="prefetch" href="/blog/assets/shell.html-1d705648.js" as="script"><link rel="prefetch" href="/blog/assets/vMware.html-560b1f22.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-ee8c2857.js" as="script"><link rel="prefetch" href="/blog/assets/softwareChrome.html-df55088b.js" as="script"><link rel="prefetch" href="/blog/assets/softwareUsage.html-f07a419b.js" as="script"><link rel="prefetch" href="/blog/assets/softwareVSCode.html-b1003b8a.js" as="script"><link rel="prefetch" href="/blog/assets/windowsLinuxMac.html-797ab186.js" as="script"><link rel="prefetch" href="/blog/assets/algorithm.html-975f0c89.js" as="script"><link rel="prefetch" href="/blog/assets/array.html-b3f49325.js" as="script"><link rel="prefetch" href="/blog/assets/browser.html-352ba5bf.js" as="script"><link rel="prefetch" href="/blog/assets/dataRequest.html-7971126a.js" as="script"><link rel="prefetch" href="/blog/assets/debounceThrottle.html-406a98a9.js" as="script"><link rel="prefetch" href="/blog/assets/diff.html-5040ea2a.js" as="script"><link rel="prefetch" href="/blog/assets/element.html-767d09c5.js" as="script"><link rel="prefetch" href="/blog/assets/number.html-5de7496f.js" as="script"><link rel="prefetch" href="/blog/assets/object.html-9c046897.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-b77dc812.js" as="script"><link rel="prefetch" href="/blog/assets/sort.html-f8a48e91.js" as="script"><link rel="prefetch" href="/blog/assets/string.html-c883d3bd.js" as="script"><link rel="prefetch" href="/blog/assets/time.html-1e1d17bc.js" as="script"><link rel="prefetch" href="/blog/assets/application.html-b46d61c2.js" as="script"><link rel="prefetch" href="/blog/assets/comment.html-01dd9822.js" as="script"><link rel="prefetch" href="/blog/assets/dependency.html-2d012f84.js" as="script"><link rel="prefetch" href="/blog/assets/grammar.html-55fc71d9.js" as="script"><link rel="prefetch" href="/blog/assets/idea.html-3ee891e6.js" as="script"><link rel="prefetch" href="/blog/assets/ideaPlugin.html-a0feebc5.js" as="script"><link rel="prefetch" href="/blog/assets/javaBaseClass.html-43938738.js" as="script"><link rel="prefetch" href="/blog/assets/learnNote.html-6d4ba148.js" as="script"><link rel="prefetch" href="/blog/assets/pom.html-582b32aa.js" as="script"><link rel="prefetch" href="/blog/assets/problem.html-de74211e.js" as="script"><link rel="prefetch" href="/blog/assets/springBoot.html-d5aa0922.js" as="script"><link rel="prefetch" href="/blog/assets/springBootGrammar.html-9680a4d1.js" as="script"><link rel="prefetch" href="/blog/assets/accessOrigin.html-4947f6f8.js" as="script"><link rel="prefetch" href="/blog/assets/eggStart.html-a8ff8ee3.js" as="script"><link rel="prefetch" href="/blog/assets/koaUploadImg.html-b90254d4.js" as="script"><link rel="prefetch" href="/blog/assets/moveFileOrfolder.html-2217452f.js" as="script"><link rel="prefetch" href="/blog/assets/node.html-5fcfd654.js" as="script"><link rel="prefetch" href="/blog/assets/npm.html-d139f26c.js" as="script"><link rel="prefetch" href="/blog/assets/package.html-c784daa5.js" as="script"><link rel="prefetch" href="/blog/assets/publishNpm.html-aa1ea748.js" as="script"><link rel="prefetch" href="/blog/assets/setAutoIp.html-2def12e9.js" as="script"><link rel="prefetch" href="/blog/assets/yarn.html-18e9c185.js" as="script"><link rel="prefetch" href="/blog/assets/python.html-5db87a96.js" as="script"><link rel="prefetch" href="/blog/assets/scrapyStart.html-c6605d36.js" as="script"><link rel="prefetch" href="/blog/assets/animate.html-40de1b07.js" as="script"><link rel="prefetch" href="/blog/assets/css.html-a24d20e4.js" as="script"><link rel="prefetch" href="/blog/assets/eCharts.html-fb40c143.js" as="script"><link rel="prefetch" href="/blog/assets/electron.html-d3761362.js" as="script"><link rel="prefetch" href="/blog/assets/flutter.html-b1a6c87a.js" as="script"><link rel="prefetch" href="/blog/assets/html.html-8bf0bba3.js" as="script"><link rel="prefetch" href="/blog/assets/media.html-762faeb3.js" as="script"><link rel="prefetch" href="/blog/assets/miniProgram.html-f333daf8.js" as="script"><link rel="prefetch" href="/blog/assets/sass.html-0a09a375.js" as="script"><link rel="prefetch" href="/blog/assets/svg.html-87d8cdb0.js" as="script"><link rel="prefetch" href="/blog/assets/uniApp.html-cd4e5795.js" as="script"><link rel="prefetch" href="/blog/assets/webApp.html-898ea287.js" as="script"><link rel="prefetch" href="/blog/assets/array.html-986ff2b5.js" as="script"><link rel="prefetch" href="/blog/assets/bitOperation.html-af41fd72.js" as="script"><link rel="prefetch" href="/blog/assets/class.html-3a0e3904.js" as="script"><link rel="prefetch" href="/blog/assets/D3.html-a4b8bf12.js" as="script"><link rel="prefetch" href="/blog/assets/javascript.html-3c3a55ea.js" as="script"><link rel="prefetch" href="/blog/assets/jsEvent.html-80d9520c.js" as="script"><link rel="prefetch" href="/blog/assets/regexpRules.html-0d11b377.js" as="script"><link rel="prefetch" href="/blog/assets/typescript.html-4c56b884.js" as="script"><link rel="prefetch" href="/blog/assets/elementUiTree.html-efdf664e.js" as="script"><link rel="prefetch" href="/blog/assets/iviewTableEdit.html-10d7947e.js" as="script"><link rel="prefetch" href="/blog/assets/iviewUdTableHeader.html-3865e68e.js" as="script"><link rel="prefetch" href="/blog/assets/react.html-3011360f.js" as="script"><link rel="prefetch" href="/blog/assets/reactExam.html-19466daf.js" as="script"><link rel="prefetch" href="/blog/assets/rnApp.html-a2895e89.js" as="script"><link rel="prefetch" href="/blog/assets/vue.html-761f7219.js" as="script"><link rel="prefetch" href="/blog/assets/vue3.html-d4f002e9.js" as="script"><link rel="prefetch" href="/blog/assets/vueExam.html-1af23720.js" as="script"><link rel="prefetch" href="/blog/assets/vueMvvm.html-436da9bb.js" as="script"><link rel="prefetch" href="/blog/assets/vueSassConfig.html-aeb92c03.js" as="script"><link rel="prefetch" href="/blog/assets/404.html-f9e8d259.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/blog/" class=""><img class="logo" src="/blog/logo.png" alt="Warren&#39;s"><span class="site-name can-hide">Warren&#39;s</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/blog/frontEnd/" class="router-link-active" aria-label="前端"><!--[--><!--]--> 前端 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/blog/backEnd/" class="" aria-label="后端"><!--[--><!--]--> 后端 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/blog/server/" class="" aria-label="服务器"><!--[--><!--]--> 服务器 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/blog/tools/" class="" aria-label="工具方法"><!--[--><!--]--> 工具方法 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/blog/blog/" class="" aria-label="Blog"><!--[--><!--]--> Blog <!--[--><!--]--></a></div><div class="navbar-item"><a href="/blog/database/" class="" aria-label="数据库"><!--[--><!--]--> 数据库 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/blog/project/" class="" aria-label="项目配置"><!--[--><!--]--> 项目配置 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/blog/software/" class="" aria-label="软件使用"><!--[--><!--]--> 软件使用 <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/WarrenHewitt" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" placeholder="Search" autocomplete="off" spellcheck="false" value><!----></form></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/blog/frontEnd/" class="router-link-active" aria-label="前端"><!--[--><!--]--> 前端 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/blog/backEnd/" class="" aria-label="后端"><!--[--><!--]--> 后端 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/blog/server/" class="" aria-label="服务器"><!--[--><!--]--> 服务器 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/blog/tools/" class="" aria-label="工具方法"><!--[--><!--]--> 工具方法 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/blog/blog/" class="" aria-label="Blog"><!--[--><!--]--> Blog <!--[--><!--]--></a></div><div class="navbar-item"><a href="/blog/database/" class="" aria-label="数据库"><!--[--><!--]--> 数据库 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/blog/project/" class="" aria-label="项目配置"><!--[--><!--]--> 项目配置 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/blog/software/" class="" aria-label="软件使用"><!--[--><!--]--> 软件使用 <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/WarrenHewitt" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading">HTML <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/blog/frontEnd/html/animate" class="sidebar-item" aria-label="animate"><!--[--><!--]--> animate <!--[--><!--]--></a><!----></li><li><a href="/blog/frontEnd/html/css" class="sidebar-item" aria-label="css"><!--[--><!--]--> css <!--[--><!--]--></a><!----></li><li><a href="/blog/frontEnd/html/eCharts" class="sidebar-item" aria-label="eCharts"><!--[--><!--]--> eCharts <!--[--><!--]--></a><!----></li><li><a href="/blog/frontEnd/html/electron" class="sidebar-item" aria-label="electron"><!--[--><!--]--> electron <!--[--><!--]--></a><!----></li><li><a href="/blog/frontEnd/html/flutter" class="sidebar-item" aria-label="flutter"><!--[--><!--]--> flutter <!--[--><!--]--></a><!----></li><li><a href="/blog/frontEnd/html/html" class="sidebar-item" aria-label="html"><!--[--><!--]--> html <!--[--><!--]--></a><!----></li><li><a href="/blog/frontEnd/html/media" class="sidebar-item" aria-label="media"><!--[--><!--]--> media <!--[--><!--]--></a><!----></li><li><a href="/blog/frontEnd/html/miniProgram" class="sidebar-item" aria-label="miniProgram"><!--[--><!--]--> miniProgram <!--[--><!--]--></a><!----></li><li><a href="/blog/frontEnd/html/sass" class="sidebar-item" aria-label="sass"><!--[--><!--]--> sass <!--[--><!--]--></a><!----></li><li><a href="/blog/frontEnd/html/svg" class="sidebar-item" aria-label="svg"><!--[--><!--]--> svg <!--[--><!--]--></a><!----></li><li><a href="/blog/frontEnd/html/uniApp" class="sidebar-item" aria-label="uniApp"><!--[--><!--]--> uniApp <!--[--><!--]--></a><!----></li><li><a href="/blog/frontEnd/html/webApp" class="sidebar-item" aria-label="webApp"><!--[--><!--]--> webApp <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading active">Javascript <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/blog/frontEnd/javascript/array" class="sidebar-item" aria-label="array"><!--[--><!--]--> array <!--[--><!--]--></a><!----></li><li><a href="/blog/frontEnd/javascript/bitOperation" class="sidebar-item" aria-label="bitOperation"><!--[--><!--]--> bitOperation <!--[--><!--]--></a><!----></li><li><a href="/blog/frontEnd/javascript/class" class="sidebar-item" aria-label="class"><!--[--><!--]--> class <!--[--><!--]--></a><!----></li><li><a href="/blog/frontEnd/javascript/D3" class="sidebar-item" aria-label="D3"><!--[--><!--]--> D3 <!--[--><!--]--></a><!----></li><li><a href="/blog/frontEnd/javascript/javascript" class="sidebar-item" aria-label="javascript"><!--[--><!--]--> javascript <!--[--><!--]--></a><!----></li><li><a href="/blog/frontEnd/javascript/jsEvent" class="sidebar-item" aria-label="jsEvent"><!--[--><!--]--> jsEvent <!--[--><!--]--></a><!----></li><li><a href="/blog/frontEnd/javascript/regexpRules" class="sidebar-item" aria-label="regexpRules"><!--[--><!--]--> regexpRules <!--[--><!--]--></a><!----></li><li><a href="/blog/frontEnd/javascript/threeJs" class="router-link-active sidebar-item active" aria-label="threeJs"><!--[--><!--]--> threeJs <!--[--><!--]--></a><!----></li><li><a href="/blog/frontEnd/javascript/typescript" class="sidebar-item" aria-label="typescript"><!--[--><!--]--> typescript <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading">vue-React <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/blog/frontEnd/vueReact/elementUiTree" class="sidebar-item" aria-label="ElementUI Tree 自定义选择"><!--[--><!--]--> ElementUI Tree 自定义选择 <!--[--><!--]--></a><!----></li><li><a href="/blog/frontEnd/vueReact/iviewTableEdit" class="sidebar-item" aria-label="iview可编辑表格"><!--[--><!--]--> iview可编辑表格 <!--[--><!--]--></a><!----></li><li><a href="/blog/frontEnd/vueReact/iviewUdTableHeader" class="sidebar-item" aria-label="iview自定义多级表头"><!--[--><!--]--> iview自定义多级表头 <!--[--><!--]--></a><!----></li><li><a href="/blog/frontEnd/vueReact/react" class="sidebar-item" aria-label="react"><!--[--><!--]--> react <!--[--><!--]--></a><!----></li><li><a href="/blog/frontEnd/vueReact/reactExam" class="sidebar-item" aria-label="reactExam"><!--[--><!--]--> reactExam <!--[--><!--]--></a><!----></li><li><a href="/blog/frontEnd/vueReact/rnApp" class="sidebar-item" aria-label="rnApp"><!--[--><!--]--> rnApp <!--[--><!--]--></a><!----></li><li><a href="/blog/frontEnd/vueReact/vue" class="sidebar-item" aria-label="vue"><!--[--><!--]--> vue <!--[--><!--]--></a><!----></li><li><a href="/blog/frontEnd/vueReact/vue3" class="sidebar-item" aria-label="vue3"><!--[--><!--]--> vue3 <!--[--><!--]--></a><!----></li><li><a href="/blog/frontEnd/vueReact/vueExam" class="sidebar-item" aria-label="vueExam"><!--[--><!--]--> vueExam <!--[--><!--]--></a><!----></li><li><a href="/blog/frontEnd/vueReact/vueMvvm" class="sidebar-item" aria-label="vue实现原理"><!--[--><!--]--> vue实现原理 <!--[--><!--]--></a><!----></li><li><a href="/blog/frontEnd/vueReact/vueSassConfig" class="sidebar-item" aria-label="vue配置sass"><!--[--><!--]--> vue配置sass <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="three-js" tabindex="-1"><a class="header-anchor" href="#three-js" aria-hidden="true">#</a> three.js</h1><p>示例项目 <code>threejs-typescript/three</code></p><h2 id="数字孪生" tabindex="-1"><a class="header-anchor" href="#数字孪生" aria-hidden="true">#</a> 数字孪生</h2><p>unity ue webGL 专业的数字孪生开发软件</p><p>B/S 端可以用 unity webGL 像素流（浏览器实则是播放视频，根据用户操作播放不同的视频）</p><hr><h2 id="基础知识" tabindex="-1"><a class="header-anchor" href="#基础知识" aria-hidden="true">#</a> 基础知识</h2><ul><li><p>fps 监听 参考 https://github.com/mrdoob/three.js/blob/master/examples/webgl_animation_cloth.html 下的 stats</p></li><li><p>1度=π/180，1rad=180/π ==&gt; 2pi = 360 度数与弧度切换 threejs中有数学库</p></li><li><p>Three中的物体包括 Mesh,Line,Points等，它们都继承自Object3D类</p></li><li><p>视锥体，指的看起来像一个被削掉顶部的金字塔。这个形状是可以被透视camera看见和渲染的区域</p></li><li><p>renderer.domElement 返回的是 canvas 元素</p></li><li><p>WebGL可以看做是将OpenGL ES（OpenGL for Embedded Systems，OpenGL嵌入式版本，针对手机、游戏机等设备相对较轻量级的版本）移植到了网页平台,是一个底层的标准</p></li><li><p>Three.js 封装了底层的图形接口</p></li><li><p>网格 = 几何体+材质</p></li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">/* 数学库 https://threejs.org/docs/#api/zh/math/MathUtils */</span>
<span class="token constant">THREE</span><span class="token punctuation">.</span>Math<span class="token punctuation">.</span><span class="token function">radToDeg</span><span class="token punctuation">(</span><span class="token number">3.14</span><span class="token punctuation">)</span> <span class="token comment">// 弧度转为度数</span>
<span class="token constant">THREE</span><span class="token punctuation">.</span>Math<span class="token punctuation">.</span><span class="token function">degToRad</span><span class="token punctuation">(</span><span class="token number">90</span><span class="token punctuation">)</span>  <span class="token comment">// 将度转化为弧度</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="object3d" tabindex="-1"><a class="header-anchor" href="#object3d" aria-hidden="true">#</a> Object3D</h2><ul><li>Group 它几乎和Object3D是相同的</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token punctuation">.</span><span class="token function">rotateY</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 参数弧度数   正方向到负方向 逆时针旋转</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="场景-scene" tabindex="-1"><a class="header-anchor" href="#场景-scene" aria-hidden="true">#</a> 场景 Scene</h2><p>继承 Object3D</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> scene <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>Scene</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// scene.background = new THREE.Color(0xD1D1D1)  // 设置场景背脊色</span>
<span class="token comment">// scene.fog = new THREE.Fog(0xffffff, 10, 1500); // 设置雾 Fog(name: 可选, color : Integer, near : Float, far : Float) 雾，在一定的距离内设置雾</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="材质-material" tabindex="-1"><a class="header-anchor" href="#材质-material" aria-hidden="true">#</a> 材质 Material</h2><h2 id="贴图-texture" tabindex="-1"><a class="header-anchor" href="#贴图-texture" aria-hidden="true">#</a> 贴图 Texture</h2><p>创建一个纹理贴图，将其应用到一个表面，或者作为反射/折射贴图</p><p>offset 通常范围是 0-1</p><p>repeat 如果大于 1 则需要设置 wrapS wrapT 的值不为默认的 ClampToEdgeWrapping</p><p>THREE.RepeatWrapping:重复包裹 THREE.ClampToEdgeWrapping： 纹理的最后一个像素延伸到网格的边缘，默认值 THREE.MirroredRepeatWrapping：纹理镜像重复</p><ul><li><code>new THREE.SphereGeometry(150, 32, 32).scale(-1, 1,1)</code> // 通过scale 为负 调整 贴图对内对外</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">createWords</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> cardW <span class="token operator">=</span> <span class="token number">100</span>
    <span class="token keyword">const</span> <span class="token function-variable function">createText</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">text</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&#39;canvas&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&#39;2d&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">const</span> n <span class="token operator">=</span> cardW <span class="token operator">-</span> <span class="token number">5</span>
        <span class="token keyword">const</span> w <span class="token operator">=</span> <span class="token number">5</span>

        canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> cardW
        canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> cardW
        <span class="token comment">/* 绘制边框 */</span>
        ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        ctx<span class="token punctuation">.</span>strokeStyle <span class="token operator">=</span> <span class="token string">&#39;#fff&#39;</span><span class="token punctuation">;</span> ctx<span class="token punctuation">.</span>lineWidth <span class="token operator">=</span> <span class="token number">2</span>
        ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span>w<span class="token punctuation">,</span> w<span class="token punctuation">)</span><span class="token punctuation">;</span> ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span> w<span class="token punctuation">)</span><span class="token punctuation">;</span> ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span> ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span>w<span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span> ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span>w<span class="token punctuation">,</span> w<span class="token punctuation">)</span><span class="token punctuation">;</span> ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        ctx<span class="token punctuation">.</span>font <span class="token operator">=</span> <span class="token string">&#39;bolder 16px Arial&#39;</span><span class="token punctuation">;</span>
        ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">&#39;#fff&#39;</span><span class="token punctuation">;</span>
        ctx<span class="token punctuation">.</span><span class="token function">fillText</span><span class="token punctuation">(</span><span class="token string">&#39;文字&#39;</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ctx<span class="token punctuation">.</span>font <span class="token operator">=</span> <span class="token string">&#39;bolder 14px Arial&#39;</span><span class="token punctuation">;</span>
        ctx<span class="token punctuation">.</span>globalAlpha <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> ctx<span class="token punctuation">.</span>canvas
    <span class="token punctuation">}</span>

    <span class="token comment">/* 添加文字 */</span>
    <span class="token keyword">const</span> canvasTexture <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>CanvasTexture</span><span class="token punctuation">(</span><span class="token function">createText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token comment">/* 平面几何 */</span>
    <span class="token keyword">const</span> geometry <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>PlaneGeometry</span><span class="token punctuation">(</span>cardW<span class="token punctuation">,</span> cardW<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> material <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>MeshBasicMaterial</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token number">0xffffff</span><span class="token punctuation">,</span>
        <span class="token literal-property property">map</span><span class="token operator">:</span> canvasTexture<span class="token punctuation">,</span> <span class="token comment">// 设置纹理贴图</span>
        <span class="token literal-property property">transparent</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">/* 材质透明 */</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> plane <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>Mesh</span><span class="token punctuation">(</span>geometry<span class="token punctuation">,</span> material<span class="token punctuation">)</span><span class="token punctuation">;</span>
    plane<span class="token punctuation">.</span>position<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>cardW <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> cardW <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">30</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> group <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>Group</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    group<span class="token punctuation">.</span>position<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
    group<span class="token punctuation">.</span>scale<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span>
    group<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>plane<span class="token punctuation">)</span>
    scene<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>group<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="坐标轴的一些描述" tabindex="-1"><a class="header-anchor" href="#坐标轴的一些描述" aria-hidden="true">#</a> 坐标轴的一些描述</h2><ul><li><p>AxesHelper( size : Number ) 模拟3个坐标轴 红色代表 X 轴. 绿色代表 Y 轴. 蓝色代表 Z 轴. size 代表轴的线段长度. 默认为 1</p></li><li><p>默认原点就在canvas的中心位置</p></li><li><p>如果导入的3D模型，其因为占用一定的长宽高 它的原心不一定和canvas的中心位置重合</p></li><li><p>坐标轴的各轴的走向会随摄像机的位置不同而不同</p></li><li><p>世界坐标系: 世界坐标系位于屏幕的中心(0,0,0),往右侧是x轴,往上是y轴,垂直屏幕朝向的是z轴.所以屏幕的左下角是(-1,-1),右上角是(1,1);</p></li><li><p>https://segmentfault.com/a/1190000010490845 世界坐标的计算推演过程</p></li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>mouse<span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>clientX <span class="token operator">/</span> window<span class="token punctuation">.</span>innerWidth<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
mouse<span class="token punctuation">.</span>y <span class="token operator">=</span> <span class="token operator">-</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>clientY <span class="token operator">/</span> window<span class="token punctuation">.</span>innerHeight<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>屏幕坐标系: webgl会将三维的坐标经过计算,在屏幕里正常显示</li></ul><h2 id="mesh-网格" tabindex="-1"><a class="header-anchor" href="#mesh-网格" aria-hidden="true">#</a> Mesh 网格</h2><p>3D世界由点组成，两个点能组成一条直线，三个不在一条直线上的点，就能组成一个三角面，无数的三角面就能组成各种各样的物体，通常把这种网络模型叫做Mesh模型 Mesh(参数一：要用三角面创建的形状【一般的形状threejs已经提供】, 参数二：材质)</p><p>部分共有属性和方法参考 Object3D</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token punctuation">.</span>scale<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">// xyz方向分别缩放倍数</span>
<span class="token punctuation">.</span>scale<span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token number">2.0</span> <span class="token comment">// x 方向放大2倍</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="摄像机" tabindex="-1"><a class="header-anchor" href="#摄像机" aria-hidden="true">#</a> 摄像机</h2><ul><li><p>先设置好相机位置.position(眼睛位置)，然后通过.lookAt()方法设置相机目标观察点</p></li><li><p>相机默认是由正z轴看像-z轴（相机镜头对着-z轴方向拍）</p></li><li><p>PerspectiveCamera ( fov : Number, aspect : Number, near : Number, far : Number ) fov(fieldOfView) — 摄像机视锥体垂直视野角度, 从视图的底部到顶部,默认值是50，越大视图越小; 参考https://www.ituring.com.cn/book/miniarticle/49446 aspect — 摄像机视锥体长宽比,通常是使用画布的宽/画布的高。默认值是1（正方形画布）; near — 摄像机视锥体近端面; far — 摄像机视锥体远端面</p></li></ul><p>透视相机， 这一投影模式被用来模拟人眼所看到的景象，它是3D场景的渲染中使用得最普遍的投影模式</p><h2 id="渲染器" tabindex="-1"><a class="header-anchor" href="#渲染器" aria-hidden="true">#</a> 渲染器</h2><ul><li>renderer = WebGLRenderer({ 配置项 }) 用 WebGL(一种3D渲染协议) 渲染出制作的场景</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// alpha - canvas是否包含alpha (透明度)。默认为 false  (rgba 的a同样的效果？)</span>
<span class="token comment">// antialias - 是否执行抗锯齿。默认为false.</span>
<span class="token comment">// renderer.shadowMap.enabled : Boolean 如果设置开启，允许在场景中使用阴影贴图。默认是 false。</span>
renderer<span class="token punctuation">.</span><span class="token function">setClearColor</span><span class="token punctuation">(</span><span class="token number">0x011339</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span> <span class="token comment">// 设置渲染器背景色</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="灯光" tabindex="-1"><a class="header-anchor" href="#灯光" aria-hidden="true">#</a> 灯光</h2><ul><li><p>SpotLight ( color : Integer, intensity : Float, distance : Float, angle : Radians, penumbra : Float, decay : Float ) 聚光灯 光线从一个点沿一个方向射出，随着光线照射的变远，光线圆锥体的尺寸也逐渐增大</p></li><li><p>HemisphereLight(skyColor : Integer, groundColor : Integer, intensity : Float) 半球光，光源直接放置于场景之上，光照颜色从天空光线颜色渐变到地面光线颜色。半球光不能投射阴影。 skyColor - (可选参数) 天空中发出光线的颜色。 缺省值 0xffffff。 groundColor - (可选参数) 地面发出光线的颜色。 缺省值 0xffffff。 intensity - (可选参数) 光照强度。 缺省值 1。</p></li><li><p>DirectionalLight( color : Integer, intensity : Float ) 平行光, 可以投射阴影 color - (可选参数) 16进制颜色。 缺省值为 0xffffff (白色)。 intensity - (可选参数) 光照的强度。缺省值为1</p></li><li><p>AmbientLight( color : Integer, intensity : Float )环境光会均匀的照亮场景中的所有物体 color - (参数可选）颜色的rgb数值。缺省值为 0xffffff intensity - (参数可选)光照的强度。缺省值为 1</p></li></ul><h2 id="控制" tabindex="-1"><a class="header-anchor" href="#控制" aria-hidden="true">#</a> 控制</h2><ul><li>OrbitControls( object : Camera, domElement : HTMLDOMElement ) 轨道控制器, 可以使得相机围绕目标进行轨道运动。 Camera 将要被控制的相机。该相机不允许是其他任何对象的子级，除非该对象是场景自身 domElement: 用于事件监听的HTML元素。</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> controls <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>OrbitControls</span><span class="token punctuation">(</span>camera<span class="token punctuation">,</span> renderer<span class="token punctuation">.</span>domElement<span class="token punctuation">)</span>
<span class="token comment">/* 你能够垂直旋转的角度的上限，范围是0到Math.PI，其默认值为Math.PI */</span>
controls<span class="token punctuation">.</span>maxPolarAngle <span class="token operator">=</span> <span class="token number">1</span>

controls<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;change&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    angelY <span class="token operator">=</span> controls<span class="token punctuation">.</span><span class="token function">getAzimuthalAngle</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 获得当前的水平旋转，单位为弧度</span>
    angelX <span class="token operator">=</span> controls<span class="token punctuation">.</span><span class="token function">getPolarAngle</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 获得当前的垂直旋转，单位为弧度</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// .saveState() // 保存当前控制器的状态。这一状态可在之后由.reset() 所恢复。</span>
<span class="token comment">// angelY = controls.getAzimuthalAngle() // 获得当前的水平旋转，单位为弧度</span>
<span class="token comment">// angelX = controls.getPolarAngle() // 获得当前的垂直旋转，单位为弧度</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="载入3d模型-加载器" tabindex="-1"><a class="header-anchor" href="#载入3d模型-加载器" aria-hidden="true">#</a> 载入3D模型 加载器</h2><p>官方文档 https://threejs.org/docs/index.html#manual/zh/introduction/Loading-3D-models</p><p>官方推荐使用glTF（gl传输格式）。.GLB和.GLTF是这种格式的这两种不同版本</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">let</span> loader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>GLTFLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
loader<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token string">&quot;./x.gltf&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">gltf</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">/* 遍历调用者和调用者的所有后代 */</span>
    gltf<span class="token punctuation">.</span>scene<span class="token punctuation">.</span><span class="token function">traverse</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">node</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token punctuation">.</span>isMesh<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            node<span class="token punctuation">.</span>castShadow <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
            node<span class="token punctuation">.</span>material<span class="token punctuation">.</span>wireframe <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment">// 材质显示线框模式</span>
            <span class="token comment">// node.material.color = new THREE.Color( 0x061D9D );  // 设置这个颜色没有用； 颜色要用 THREE.Color 创建实例</span>
            node<span class="token punctuation">.</span>material<span class="token punctuation">.</span>emissiveIntensity <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// 自发光强度</span>
            node<span class="token punctuation">.</span>material<span class="token punctuation">.</span>emissive <span class="token operator">=</span> node<span class="token punctuation">.</span>material<span class="token punctuation">.</span>color<span class="token punctuation">;</span> <span class="token comment">// 自发光 （MeshStandardMaterial 中）</span>
            <span class="token comment">// node.material.emissiveMap = node.material.map;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    gltf<span class="token punctuation">.</span>castShadow <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    gScene <span class="token operator">=</span> gltf<span class="token punctuation">.</span>scene<span class="token punctuation">;</span>
    gScene<span class="token punctuation">.</span>position<span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    gScene<span class="token punctuation">.</span>position<span class="token punctuation">.</span>y <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    gScene<span class="token punctuation">.</span>position<span class="token punctuation">.</span>z <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    gScene<span class="token punctuation">.</span>scale<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> light <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>DirectionalLight</span><span class="token punctuation">(</span><span class="token number">0xffffff</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
    light<span class="token punctuation">.</span>castShadow <span class="token operator">=</span> <span class="token boolean">true</span>
    light<span class="token punctuation">.</span>position<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token number">2000</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span>
    gScene<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>light<span class="token punctuation">)</span>  <span class="token comment">// 单独加灯光</span>

    scene<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>gScene<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="精灵-sprite" tabindex="-1"><a class="header-anchor" href="#精灵-sprite" aria-hidden="true">#</a> 精灵 Sprite</h1><p>一个总是面朝着摄像机的平面(该平面始终对着我们)</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>TextureLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token string">&#39;xxx.png&#39;</span><span class="token punctuation">)</span> <span class="token comment">// 这里加载的图片宽高比通过下面的 scale 设置,x=宽 y=高 即可</span>
<span class="token keyword">const</span> material <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>SpriteMaterial</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">map</span><span class="token operator">:</span> map <span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> sprite <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>Sprite</span><span class="token punctuation">(</span>material<span class="token punctuation">)</span>
sprite<span class="token punctuation">.</span>position<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">600</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span>
sprite<span class="token punctuation">.</span>scale<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
scene<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>sprite<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="demo" tabindex="-1"><a class="header-anchor" href="#demo" aria-hidden="true">#</a> demo</h2><p><a href="https://codepen.io/Hewitt/pen/ZEWgNyg" target="_blank" rel="noopener noreferrer">在线示例<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://cdn.bootcdn.net/ajax/libs/three.js/110/three.min.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- 作为Three.js渲染器输出元素 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cusThree<span class="token punctuation">&quot;</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">width</span><span class="token punctuation">:</span>500px<span class="token punctuation">;</span><span class="token property">height</span><span class="token punctuation">:</span>500px<span class="token punctuation">;</span><span class="token property">margin</span><span class="token punctuation">:</span> 0 auto<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> windowW <span class="token operator">=</span> <span class="token number">500</span>
<span class="token keyword">var</span> windowH <span class="token operator">=</span> <span class="token number">500</span>
<span class="token keyword">var</span> camera <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> spotLight <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> plane <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> sphere <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> cube <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

<span class="token comment">// 创建场景</span>
<span class="token keyword">var</span> scene <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>Scene</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// scene.background = new THREE.Color(0xD1D1D1)</span>

<span class="token comment">// 创建渲染器</span>
<span class="token keyword">var</span> renderer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>WebGLRenderer</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
renderer<span class="token punctuation">.</span><span class="token function">setSize</span><span class="token punctuation">(</span>windowW<span class="token punctuation">,</span> windowH<span class="token punctuation">)</span>
renderer<span class="token punctuation">.</span>shadowMap<span class="token punctuation">.</span>enabled <span class="token operator">=</span> <span class="token boolean">true</span>

<span class="token comment">/* 创建透视相机 */</span> 
<span class="token keyword">function</span> <span class="token function">createCamera</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    camera <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>PerspectiveCamera</span><span class="token punctuation">(</span><span class="token number">60</span><span class="token punctuation">,</span> windowW <span class="token operator">/</span> windowH<span class="token punctuation">,</span> <span class="token number">.1</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>
    <span class="token comment">/* 设置相机的位置 */</span>
    camera<span class="token punctuation">.</span>position<span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">40</span>
    camera<span class="token punctuation">.</span>position<span class="token punctuation">.</span>y <span class="token operator">=</span> <span class="token number">50</span>
    camera<span class="token punctuation">.</span>position<span class="token punctuation">.</span>z <span class="token operator">=</span> <span class="token number">30</span>

    <span class="token comment">/* 设置镜头的位置 */</span>
    camera<span class="token punctuation">.</span><span class="token function">lookAt</span><span class="token punctuation">(</span>scene<span class="token punctuation">.</span>position<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">/* 加入光源 */</span>
<span class="token keyword">function</span> <span class="token function">createSpotLight</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    spotLight <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>SpotLight</span><span class="token punctuation">(</span><span class="token number">0xffffff</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
    spotLight<span class="token punctuation">.</span>position<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
    spotLight<span class="token punctuation">.</span>castShadow <span class="token operator">=</span> <span class="token boolean">true</span>
    spotLight<span class="token punctuation">.</span>shadow<span class="token punctuation">.</span>mapSize<span class="token punctuation">.</span>with <span class="token operator">=</span> <span class="token number">2048</span>
    spotLight<span class="token punctuation">.</span>shadow<span class="token punctuation">.</span>mapSize<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">2048</span>

    scene<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>spotLight<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">/* 创建平面 */</span>
<span class="token keyword">function</span> <span class="token function">createPlane</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">/* 着色器 */</span>
    <span class="token comment">/* 参数：宽 高 x方向分段 y方向分段 分段是对六个面进行分段 */</span>
    <span class="token keyword">var</span> planeGeometry <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>PlaneGeometry</span><span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">,</span><span class="token number">40</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span>

    <span class="token comment">/* 材质 */</span>
    <span class="token keyword">var</span> planeMaterial <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>MeshLambertMaterial</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token number">0xC1C1C1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>

    plane <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>Mesh</span><span class="token punctuation">(</span>planeGeometry<span class="token punctuation">,</span> planeMaterial<span class="token punctuation">)</span>
    <span class="token comment">/* 打开阴影效果 */</span>
    plane<span class="token punctuation">.</span>receiveShadow <span class="token operator">=</span> <span class="token boolean">true</span>

    <span class="token comment">/* 设置平面体的位置 */</span>
    plane<span class="token punctuation">.</span>position<span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token number">10</span>
    plane<span class="token punctuation">.</span>position<span class="token punctuation">.</span>y <span class="token operator">=</span> <span class="token number">0</span>
    plane<span class="token punctuation">.</span>position<span class="token punctuation">.</span>z <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token comment">/* 可以用如下方式替代以上的方式 */</span>
    <span class="token comment">// plane.position.set(16,0,0)</span>

    <span class="token comment">/* 设置平面体的旋转 */</span>
    plane<span class="token punctuation">.</span>rotation<span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1.6</span>
    plane<span class="token punctuation">.</span>rotation<span class="token punctuation">.</span>z <span class="token operator">=</span> <span class="token number">0.9</span>
    <span class="token comment">/* 将平面体加入到场景中 */</span>
    scene<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>plane<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">/* 创建一个正方体 */</span>
<span class="token keyword">function</span> <span class="token function">createCube</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">/* 着色器 */</span>
    <span class="token keyword">var</span> cubeGeometry <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>BoxGeometry</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span>

    <span class="token comment">/* 材质 */</span>
    <span class="token keyword">var</span> cubeMaterial <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>MeshLambertMaterial</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token number">0xA7A7A7</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>

    cube <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>Mesh</span><span class="token punctuation">(</span>cubeGeometry<span class="token punctuation">,</span> cubeMaterial<span class="token punctuation">)</span>
    <span class="token comment">/* 打开阴影 */</span>
    cube<span class="token punctuation">.</span>castShadow <span class="token operator">=</span> <span class="token boolean">true</span>

    <span class="token comment">/* 设置立方体的位置 */</span>
    cube<span class="token punctuation">.</span>position<span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token number">0</span>
    cube<span class="token punctuation">.</span>position<span class="token punctuation">.</span>y <span class="token operator">=</span> <span class="token number">10</span>
    cube<span class="token punctuation">.</span>position<span class="token punctuation">.</span>z <span class="token operator">=</span> <span class="token number">0</span>

    <span class="token comment">/* 将立方体加入到场景 */</span>
    scene<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>cube<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">/* 创建一个球面体 */</span>
<span class="token keyword">function</span> <span class="token function">createSphere</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> sphereGeometry <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>SphereGeometry</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span>

    <span class="token comment">/* 一个以简单着色（平面或线框）方式来绘制几何体的材质 */</span>
    <span class="token keyword">var</span> sphereMaterial <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>MeshBasicMaterial</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token number">0xA7A7A7</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>

    <span class="token comment">/* 生成球面体 */</span>
    sphere <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>Mesh</span><span class="token punctuation">(</span>sphereGeometry<span class="token punctuation">,</span> sphereMaterial<span class="token punctuation">)</span>
    
    <span class="token comment">/* 打开阴影效果 */</span>
    sphere<span class="token punctuation">.</span>castShadow <span class="token operator">=</span> <span class="token boolean">true</span>

    <span class="token comment">/* 设置球面体的位置 */</span>
    sphere<span class="token punctuation">.</span>position<span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token number">10</span>
    sphere<span class="token punctuation">.</span>position<span class="token punctuation">.</span>y <span class="token operator">=</span> <span class="token number">10</span>
    sphere<span class="token punctuation">.</span>position<span class="token punctuation">.</span>z <span class="token operator">=</span> <span class="token number">5</span>

    <span class="token comment">/* 将球面体加入到场景中 */</span>
    scene<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>sphere<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&#39;#cusThree&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>renderer<span class="token punctuation">.</span>domElement<span class="token punctuation">)</span>

<span class="token keyword">function</span> <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// cube.rotation.x += 0.01</span>
    <span class="token comment">// cube.rotation.y += 0.01</span>
    cube<span class="token punctuation">.</span>rotation<span class="token punctuation">.</span>z <span class="token operator">+=</span> <span class="token number">0.01</span>
    
    plane<span class="token punctuation">.</span>rotation<span class="token punctuation">.</span>z <span class="token operator">+=</span> <span class="token number">0.01</span>

    camera<span class="token punctuation">.</span>position<span class="token punctuation">.</span>z <span class="token operator">+=</span> <span class="token number">0.01</span>
    
    <span class="token comment">// requestAnimationFrame(render)</span>
    renderer<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>scene<span class="token punctuation">,</span> camera<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token function">createPlane</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">createCube</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">createSphere</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">createCamera</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">createSpotLight</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><!--[--><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: warrenemb@163.com">Warren</span><!----><!--]--><!--]--></span></div></footer><!----><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/blog/assets/app-502c1dea.js" defer></script>
  </body>
</html>

<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.58">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="icon" href="/blog/favicon.ico"><title> | Warren's</title><meta name="description" content="blog & note">
    <link rel="preload" href="/blog/assets/style-e5c53882.css" as="style"><link rel="stylesheet" href="/blog/assets/style-e5c53882.css">
    <link rel="modulepreload" href="/blog/assets/app-502c1dea.js"><link rel="modulepreload" href="/blog/assets/framework-7e1a102e.js"><link rel="modulepreload" href="/blog/assets/nginx.html-5f699cd9.js"><link rel="modulepreload" href="/blog/assets/nginx.html-c4b0f397.js"><link rel="prefetch" href="/blog/assets/index.html-45c5021c.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-d3d1fca1.js" as="script"><link rel="prefetch" href="/blog/assets/arrayBuffer.html-08db0ad4.js" as="script"><link rel="prefetch" href="/blog/assets/axios.html-8b351322.js" as="script"><link rel="prefetch" href="/blog/assets/bigDataWithFd.html-ec79fa10.js" as="script"><link rel="prefetch" href="/blog/assets/canvas.html-ee702fbf.js" as="script"><link rel="prefetch" href="/blog/assets/codepen.html-b8979dc4.js" as="script"><link rel="prefetch" href="/blog/assets/cssHeart.html-01e04d7c.js" as="script"><link rel="prefetch" href="/blog/assets/designPattern.html-d4b814f6.js" as="script"><link rel="prefetch" href="/blog/assets/dragDropPreview.html-55bd7ef1.js" as="script"><link rel="prefetch" href="/blog/assets/dragMoveElement.html-f54bbe89.js" as="script"><link rel="prefetch" href="/blog/assets/drawBoard.html-75b96584.js" as="script"><link rel="prefetch" href="/blog/assets/examination.html-5965a0a8.js" as="script"><link rel="prefetch" href="/blog/assets/exportDownloadFile.html-9fae7821.js" as="script"><link rel="prefetch" href="/blog/assets/generator.html-03dd0128.js" as="script"><link rel="prefetch" href="/blog/assets/githubHexo.html-273fb6a1.js" as="script"><link rel="prefetch" href="/blog/assets/handWrite.html-a35ae54f.js" as="script"><link rel="prefetch" href="/blog/assets/hBuilderiPhone.html-d260e3c5.js" as="script"><link rel="prefetch" href="/blog/assets/hkVideo.html-95c91c98.js" as="script"><link rel="prefetch" href="/blog/assets/html5device.html-bd3ad972.js" as="script"><link rel="prefetch" href="/blog/assets/hybridApp.html-7f133348.js" as="script"><link rel="prefetch" href="/blog/assets/indexedDB.html-ef54b406.js" as="script"><link rel="prefetch" href="/blog/assets/onlineView.html-cd963ccc.js" as="script"><link rel="prefetch" href="/blog/assets/print.html-9cb2740d.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-90f36e57.js" as="script"><link rel="prefetch" href="/blog/assets/requestAnimationFrame.html-6b0184b8.js" as="script"><link rel="prefetch" href="/blog/assets/scrollbar.html-e92bb7f1.js" as="script"><link rel="prefetch" href="/blog/assets/singlePageRoute.html-2212cd3a.js" as="script"><link rel="prefetch" href="/blog/assets/toastAndLoading.html-0c92d30b.js" as="script"><link rel="prefetch" href="/blog/assets/verticalRoll.html-4ea08146.js" as="script"><link rel="prefetch" href="/blog/assets/weChatGetUserInfo.html-dd277f50.js" as="script"><link rel="prefetch" href="/blog/assets/weChatShare.html-afa8e92e.js" as="script"><link rel="prefetch" href="/blog/assets/xss.html-f147f75a.js" as="script"><link rel="prefetch" href="/blog/assets/dbserver.html-66b0c117.js" as="script"><link rel="prefetch" href="/blog/assets/mysqlMongo.html-180fa67b.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-c2912b8f.js" as="script"><link rel="prefetch" href="/blog/assets/commitLint.html-e802645f.js" as="script"><link rel="prefetch" href="/blog/assets/eslintPrettier.html-21328deb.js" as="script"><link rel="prefetch" href="/blog/assets/generatorTemplate.html-246d1620.js" as="script"><link rel="prefetch" href="/blog/assets/git.html-6c83537f.js" as="script"><link rel="prefetch" href="/blog/assets/markdown.html-d05d5a45.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-9812bc3f.js" as="script"><link rel="prefetch" href="/blog/assets/rollup.html-c373089b.js" as="script"><link rel="prefetch" href="/blog/assets/vite.html-a71e7561.js" as="script"><link rel="prefetch" href="/blog/assets/vueConfig.html-f2a0b992.js" as="script"><link rel="prefetch" href="/blog/assets/webpack.html-0fc6e371.js" as="script"><link rel="prefetch" href="/blog/assets/webpackConfig.html-7c1837e5.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-b18e8647.js" as="script"><link rel="prefetch" href="/blog/assets/bat.html-b9f7a019.js" as="script"><link rel="prefetch" href="/blog/assets/commandLine.html-b31729ab.js" as="script"><link rel="prefetch" href="/blog/assets/deployChanDao.html-3d08ccb0.js" as="script"><link rel="prefetch" href="/blog/assets/docker.html-145c60f3.js" as="script"><link rel="prefetch" href="/blog/assets/jenkins.html-618da2cd.js" as="script"><link rel="prefetch" href="/blog/assets/linux.html-875012af.js" as="script"><link rel="prefetch" href="/blog/assets/mobaXterm.html-cedca4f5.js" as="script"><link rel="prefetch" href="/blog/assets/psISE.html-5584f001.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-f3553278.js" as="script"><link rel="prefetch" href="/blog/assets/shell.html-e9a82822.js" as="script"><link rel="prefetch" href="/blog/assets/vMware.html-17dd6d61.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-dbc1c2eb.js" as="script"><link rel="prefetch" href="/blog/assets/softwareChrome.html-5db4feae.js" as="script"><link rel="prefetch" href="/blog/assets/softwareUsage.html-641f02ef.js" as="script"><link rel="prefetch" href="/blog/assets/softwareVSCode.html-9a1fce31.js" as="script"><link rel="prefetch" href="/blog/assets/windowsLinuxMac.html-ca12052b.js" as="script"><link rel="prefetch" href="/blog/assets/algorithm.html-ace6fa6e.js" as="script"><link rel="prefetch" href="/blog/assets/array.html-7000bc43.js" as="script"><link rel="prefetch" href="/blog/assets/browser.html-d46994b7.js" as="script"><link rel="prefetch" href="/blog/assets/dataRequest.html-9606bd1b.js" as="script"><link rel="prefetch" href="/blog/assets/debounceThrottle.html-5cca1d45.js" as="script"><link rel="prefetch" href="/blog/assets/diff.html-4711bfc3.js" as="script"><link rel="prefetch" href="/blog/assets/element.html-38e613fc.js" as="script"><link rel="prefetch" href="/blog/assets/number.html-103e74d2.js" as="script"><link rel="prefetch" href="/blog/assets/object.html-911f1fca.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-a0579fea.js" as="script"><link rel="prefetch" href="/blog/assets/sort.html-4d3e11d1.js" as="script"><link rel="prefetch" href="/blog/assets/string.html-92214675.js" as="script"><link rel="prefetch" href="/blog/assets/time.html-6d692571.js" as="script"><link rel="prefetch" href="/blog/assets/application.html-f57a66ee.js" as="script"><link rel="prefetch" href="/blog/assets/comment.html-93bdd8ea.js" as="script"><link rel="prefetch" href="/blog/assets/dependency.html-e9bbeae0.js" as="script"><link rel="prefetch" href="/blog/assets/grammar.html-587f2eb4.js" as="script"><link rel="prefetch" href="/blog/assets/idea.html-4bf6f73a.js" as="script"><link rel="prefetch" href="/blog/assets/ideaPlugin.html-7184643b.js" as="script"><link rel="prefetch" href="/blog/assets/javaBaseClass.html-bf1c6b6a.js" as="script"><link rel="prefetch" href="/blog/assets/learnNote.html-d5ec1413.js" as="script"><link rel="prefetch" href="/blog/assets/pom.html-49b2a9fc.js" as="script"><link rel="prefetch" href="/blog/assets/problem.html-1201fed1.js" as="script"><link rel="prefetch" href="/blog/assets/springBoot.html-a1db9209.js" as="script"><link rel="prefetch" href="/blog/assets/springBootGrammar.html-546242ac.js" as="script"><link rel="prefetch" href="/blog/assets/accessOrigin.html-cf99ff3e.js" as="script"><link rel="prefetch" href="/blog/assets/eggStart.html-245be0b3.js" as="script"><link rel="prefetch" href="/blog/assets/koaUploadImg.html-a10d255e.js" as="script"><link rel="prefetch" href="/blog/assets/moveFileOrfolder.html-200c755b.js" as="script"><link rel="prefetch" href="/blog/assets/node.html-c8838320.js" as="script"><link rel="prefetch" href="/blog/assets/npm.html-88bdadcf.js" as="script"><link rel="prefetch" href="/blog/assets/package.html-e281eb66.js" as="script"><link rel="prefetch" href="/blog/assets/publishNpm.html-d3e8c5bf.js" as="script"><link rel="prefetch" href="/blog/assets/setAutoIp.html-8a8cb6e8.js" as="script"><link rel="prefetch" href="/blog/assets/yarn.html-1e5fbb49.js" as="script"><link rel="prefetch" href="/blog/assets/python.html-562e59fc.js" as="script"><link rel="prefetch" href="/blog/assets/scrapyStart.html-e26738ff.js" as="script"><link rel="prefetch" href="/blog/assets/animate.html-1c05455d.js" as="script"><link rel="prefetch" href="/blog/assets/css.html-98808ff9.js" as="script"><link rel="prefetch" href="/blog/assets/eCharts.html-65484a65.js" as="script"><link rel="prefetch" href="/blog/assets/electron.html-db8c5208.js" as="script"><link rel="prefetch" href="/blog/assets/flutter.html-1a5ff9cc.js" as="script"><link rel="prefetch" href="/blog/assets/html.html-369935d7.js" as="script"><link rel="prefetch" href="/blog/assets/media.html-6dc0e008.js" as="script"><link rel="prefetch" href="/blog/assets/miniProgram.html-0bc37128.js" as="script"><link rel="prefetch" href="/blog/assets/sass.html-e07a829f.js" as="script"><link rel="prefetch" href="/blog/assets/svg.html-78442843.js" as="script"><link rel="prefetch" href="/blog/assets/uniApp.html-976b3fbe.js" as="script"><link rel="prefetch" href="/blog/assets/webApp.html-241abe07.js" as="script"><link rel="prefetch" href="/blog/assets/array.html-e60b2f48.js" as="script"><link rel="prefetch" href="/blog/assets/bitOperation.html-4614e58a.js" as="script"><link rel="prefetch" href="/blog/assets/class.html-b69c2e4d.js" as="script"><link rel="prefetch" href="/blog/assets/D3.html-197f158b.js" as="script"><link rel="prefetch" href="/blog/assets/javascript.html-5f040b71.js" as="script"><link rel="prefetch" href="/blog/assets/jsEvent.html-6fee49c6.js" as="script"><link rel="prefetch" href="/blog/assets/regexpRules.html-fcd383a9.js" as="script"><link rel="prefetch" href="/blog/assets/threeJs.html-56b2af0e.js" as="script"><link rel="prefetch" href="/blog/assets/typescript.html-26e71e4d.js" as="script"><link rel="prefetch" href="/blog/assets/elementUiTree.html-8ecb778f.js" as="script"><link rel="prefetch" href="/blog/assets/iviewTableEdit.html-4d7b1733.js" as="script"><link rel="prefetch" href="/blog/assets/iviewUdTableHeader.html-06cfbb6e.js" as="script"><link rel="prefetch" href="/blog/assets/react.html-3191cf8d.js" as="script"><link rel="prefetch" href="/blog/assets/reactExam.html-87fb0a11.js" as="script"><link rel="prefetch" href="/blog/assets/rnApp.html-5a3a4779.js" as="script"><link rel="prefetch" href="/blog/assets/vue.html-0d176f3b.js" as="script"><link rel="prefetch" href="/blog/assets/vue3.html-0b8be01b.js" as="script"><link rel="prefetch" href="/blog/assets/vueExam.html-0f73631a.js" as="script"><link rel="prefetch" href="/blog/assets/vueMvvm.html-03648994.js" as="script"><link rel="prefetch" href="/blog/assets/vueSassConfig.html-d0ab9f3a.js" as="script"><link rel="prefetch" href="/blog/assets/404.html-f9875e7b.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-3cff66df.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-9a428296.js" as="script"><link rel="prefetch" href="/blog/assets/arrayBuffer.html-b0513557.js" as="script"><link rel="prefetch" href="/blog/assets/axios.html-6414521e.js" as="script"><link rel="prefetch" href="/blog/assets/bigDataWithFd.html-85e543de.js" as="script"><link rel="prefetch" href="/blog/assets/canvas.html-8b52e2c2.js" as="script"><link rel="prefetch" href="/blog/assets/codepen.html-1798db5a.js" as="script"><link rel="prefetch" href="/blog/assets/cssHeart.html-dbccd011.js" as="script"><link rel="prefetch" href="/blog/assets/designPattern.html-4f959435.js" as="script"><link rel="prefetch" href="/blog/assets/dragDropPreview.html-4817a3c5.js" as="script"><link rel="prefetch" href="/blog/assets/dragMoveElement.html-c4891909.js" as="script"><link rel="prefetch" href="/blog/assets/drawBoard.html-3919bd44.js" as="script"><link rel="prefetch" href="/blog/assets/examination.html-203f4415.js" as="script"><link rel="prefetch" href="/blog/assets/exportDownloadFile.html-070a1788.js" as="script"><link rel="prefetch" href="/blog/assets/generator.html-c668000b.js" as="script"><link rel="prefetch" href="/blog/assets/githubHexo.html-dd0a5c16.js" as="script"><link rel="prefetch" href="/blog/assets/handWrite.html-181f24f9.js" as="script"><link rel="prefetch" href="/blog/assets/hBuilderiPhone.html-ddef6884.js" as="script"><link rel="prefetch" href="/blog/assets/hkVideo.html-5101ca23.js" as="script"><link rel="prefetch" href="/blog/assets/html5device.html-3fa84554.js" as="script"><link rel="prefetch" href="/blog/assets/hybridApp.html-1f3f4c1b.js" as="script"><link rel="prefetch" href="/blog/assets/indexedDB.html-b9b413b4.js" as="script"><link rel="prefetch" href="/blog/assets/onlineView.html-45f65166.js" as="script"><link rel="prefetch" href="/blog/assets/print.html-4a27f1ae.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-0ba3804f.js" as="script"><link rel="prefetch" href="/blog/assets/requestAnimationFrame.html-d8c9e87e.js" as="script"><link rel="prefetch" href="/blog/assets/scrollbar.html-fc17d032.js" as="script"><link rel="prefetch" href="/blog/assets/singlePageRoute.html-cc914081.js" as="script"><link rel="prefetch" href="/blog/assets/toastAndLoading.html-9ae019a1.js" as="script"><link rel="prefetch" href="/blog/assets/verticalRoll.html-f3726b0c.js" as="script"><link rel="prefetch" href="/blog/assets/weChatGetUserInfo.html-5306f4fb.js" as="script"><link rel="prefetch" href="/blog/assets/weChatShare.html-ca1dd79a.js" as="script"><link rel="prefetch" href="/blog/assets/xss.html-b5643b40.js" as="script"><link rel="prefetch" href="/blog/assets/dbserver.html-f818e0f5.js" as="script"><link rel="prefetch" href="/blog/assets/mysqlMongo.html-af41ddfe.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-cc96e842.js" as="script"><link rel="prefetch" href="/blog/assets/commitLint.html-8aaa786a.js" as="script"><link rel="prefetch" href="/blog/assets/eslintPrettier.html-d1e669f8.js" as="script"><link rel="prefetch" href="/blog/assets/generatorTemplate.html-7f1d9814.js" as="script"><link rel="prefetch" href="/blog/assets/git.html-e07181ed.js" as="script"><link rel="prefetch" href="/blog/assets/markdown.html-aa144d5d.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-f8a5137b.js" as="script"><link rel="prefetch" href="/blog/assets/rollup.html-f89b4e46.js" as="script"><link rel="prefetch" href="/blog/assets/vite.html-1dab33e6.js" as="script"><link rel="prefetch" href="/blog/assets/vueConfig.html-e119cacb.js" as="script"><link rel="prefetch" href="/blog/assets/webpack.html-cc2d5ac5.js" as="script"><link rel="prefetch" href="/blog/assets/webpackConfig.html-e9d96ec8.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-22df4bc3.js" as="script"><link rel="prefetch" href="/blog/assets/bat.html-b27de9cb.js" as="script"><link rel="prefetch" href="/blog/assets/commandLine.html-ddd36217.js" as="script"><link rel="prefetch" href="/blog/assets/deployChanDao.html-8e8fe684.js" as="script"><link rel="prefetch" href="/blog/assets/docker.html-2092a2be.js" as="script"><link rel="prefetch" href="/blog/assets/jenkins.html-69e074a1.js" as="script"><link rel="prefetch" href="/blog/assets/linux.html-7aa86476.js" as="script"><link rel="prefetch" href="/blog/assets/mobaXterm.html-d7b8f6fc.js" as="script"><link rel="prefetch" href="/blog/assets/psISE.html-a9eb32ce.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-fa28656e.js" as="script"><link rel="prefetch" href="/blog/assets/shell.html-1d705648.js" as="script"><link rel="prefetch" href="/blog/assets/vMware.html-560b1f22.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-ee8c2857.js" as="script"><link rel="prefetch" href="/blog/assets/softwareChrome.html-df55088b.js" as="script"><link rel="prefetch" href="/blog/assets/softwareUsage.html-f07a419b.js" as="script"><link rel="prefetch" href="/blog/assets/softwareVSCode.html-b1003b8a.js" as="script"><link rel="prefetch" href="/blog/assets/windowsLinuxMac.html-797ab186.js" as="script"><link rel="prefetch" href="/blog/assets/algorithm.html-975f0c89.js" as="script"><link rel="prefetch" href="/blog/assets/array.html-b3f49325.js" as="script"><link rel="prefetch" href="/blog/assets/browser.html-352ba5bf.js" as="script"><link rel="prefetch" href="/blog/assets/dataRequest.html-7971126a.js" as="script"><link rel="prefetch" href="/blog/assets/debounceThrottle.html-406a98a9.js" as="script"><link rel="prefetch" href="/blog/assets/diff.html-5040ea2a.js" as="script"><link rel="prefetch" href="/blog/assets/element.html-767d09c5.js" as="script"><link rel="prefetch" href="/blog/assets/number.html-5de7496f.js" as="script"><link rel="prefetch" href="/blog/assets/object.html-9c046897.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-b77dc812.js" as="script"><link rel="prefetch" href="/blog/assets/sort.html-f8a48e91.js" as="script"><link rel="prefetch" href="/blog/assets/string.html-c883d3bd.js" as="script"><link rel="prefetch" href="/blog/assets/time.html-1e1d17bc.js" as="script"><link rel="prefetch" href="/blog/assets/application.html-b46d61c2.js" as="script"><link rel="prefetch" href="/blog/assets/comment.html-01dd9822.js" as="script"><link rel="prefetch" href="/blog/assets/dependency.html-2d012f84.js" as="script"><link rel="prefetch" href="/blog/assets/grammar.html-55fc71d9.js" as="script"><link rel="prefetch" href="/blog/assets/idea.html-3ee891e6.js" as="script"><link rel="prefetch" href="/blog/assets/ideaPlugin.html-a0feebc5.js" as="script"><link rel="prefetch" href="/blog/assets/javaBaseClass.html-43938738.js" as="script"><link rel="prefetch" href="/blog/assets/learnNote.html-6d4ba148.js" as="script"><link rel="prefetch" href="/blog/assets/pom.html-582b32aa.js" as="script"><link rel="prefetch" href="/blog/assets/problem.html-de74211e.js" as="script"><link rel="prefetch" href="/blog/assets/springBoot.html-d5aa0922.js" as="script"><link rel="prefetch" href="/blog/assets/springBootGrammar.html-9680a4d1.js" as="script"><link rel="prefetch" href="/blog/assets/accessOrigin.html-4947f6f8.js" as="script"><link rel="prefetch" href="/blog/assets/eggStart.html-a8ff8ee3.js" as="script"><link rel="prefetch" href="/blog/assets/koaUploadImg.html-b90254d4.js" as="script"><link rel="prefetch" href="/blog/assets/moveFileOrfolder.html-2217452f.js" as="script"><link rel="prefetch" href="/blog/assets/node.html-5fcfd654.js" as="script"><link rel="prefetch" href="/blog/assets/npm.html-d139f26c.js" as="script"><link rel="prefetch" href="/blog/assets/package.html-c784daa5.js" as="script"><link rel="prefetch" href="/blog/assets/publishNpm.html-aa1ea748.js" as="script"><link rel="prefetch" href="/blog/assets/setAutoIp.html-2def12e9.js" as="script"><link rel="prefetch" href="/blog/assets/yarn.html-18e9c185.js" as="script"><link rel="prefetch" href="/blog/assets/python.html-5db87a96.js" as="script"><link rel="prefetch" href="/blog/assets/scrapyStart.html-c6605d36.js" as="script"><link rel="prefetch" href="/blog/assets/animate.html-40de1b07.js" as="script"><link rel="prefetch" href="/blog/assets/css.html-a24d20e4.js" as="script"><link rel="prefetch" href="/blog/assets/eCharts.html-fb40c143.js" as="script"><link rel="prefetch" href="/blog/assets/electron.html-d3761362.js" as="script"><link rel="prefetch" href="/blog/assets/flutter.html-b1a6c87a.js" as="script"><link rel="prefetch" href="/blog/assets/html.html-8bf0bba3.js" as="script"><link rel="prefetch" href="/blog/assets/media.html-762faeb3.js" as="script"><link rel="prefetch" href="/blog/assets/miniProgram.html-f333daf8.js" as="script"><link rel="prefetch" href="/blog/assets/sass.html-0a09a375.js" as="script"><link rel="prefetch" href="/blog/assets/svg.html-87d8cdb0.js" as="script"><link rel="prefetch" href="/blog/assets/uniApp.html-cd4e5795.js" as="script"><link rel="prefetch" href="/blog/assets/webApp.html-898ea287.js" as="script"><link rel="prefetch" href="/blog/assets/array.html-986ff2b5.js" as="script"><link rel="prefetch" href="/blog/assets/bitOperation.html-af41fd72.js" as="script"><link rel="prefetch" href="/blog/assets/class.html-3a0e3904.js" as="script"><link rel="prefetch" href="/blog/assets/D3.html-a4b8bf12.js" as="script"><link rel="prefetch" href="/blog/assets/javascript.html-3c3a55ea.js" as="script"><link rel="prefetch" href="/blog/assets/jsEvent.html-80d9520c.js" as="script"><link rel="prefetch" href="/blog/assets/regexpRules.html-0d11b377.js" as="script"><link rel="prefetch" href="/blog/assets/threeJs.html-379c5854.js" as="script"><link rel="prefetch" href="/blog/assets/typescript.html-4c56b884.js" as="script"><link rel="prefetch" href="/blog/assets/elementUiTree.html-efdf664e.js" as="script"><link rel="prefetch" href="/blog/assets/iviewTableEdit.html-10d7947e.js" as="script"><link rel="prefetch" href="/blog/assets/iviewUdTableHeader.html-3865e68e.js" as="script"><link rel="prefetch" href="/blog/assets/react.html-3011360f.js" as="script"><link rel="prefetch" href="/blog/assets/reactExam.html-19466daf.js" as="script"><link rel="prefetch" href="/blog/assets/rnApp.html-a2895e89.js" as="script"><link rel="prefetch" href="/blog/assets/vue.html-761f7219.js" as="script"><link rel="prefetch" href="/blog/assets/vue3.html-d4f002e9.js" as="script"><link rel="prefetch" href="/blog/assets/vueExam.html-1af23720.js" as="script"><link rel="prefetch" href="/blog/assets/vueMvvm.html-436da9bb.js" as="script"><link rel="prefetch" href="/blog/assets/vueSassConfig.html-aeb92c03.js" as="script"><link rel="prefetch" href="/blog/assets/404.html-f9e8d259.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/blog/" class=""><img class="logo" src="/blog/logo.png" alt="Warren&#39;s"><span class="site-name can-hide">Warren&#39;s</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/blog/frontEnd/" class="" aria-label="前端"><!--[--><!--]--> 前端 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/blog/backEnd/" class="" aria-label="后端"><!--[--><!--]--> 后端 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/blog/server/" class="router-link-active" aria-label="服务器"><!--[--><!--]--> 服务器 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/blog/tools/" class="" aria-label="工具方法"><!--[--><!--]--> 工具方法 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/blog/blog/" class="" aria-label="Blog"><!--[--><!--]--> Blog <!--[--><!--]--></a></div><div class="navbar-item"><a href="/blog/database/" class="" aria-label="数据库"><!--[--><!--]--> 数据库 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/blog/project/" class="" aria-label="项目配置"><!--[--><!--]--> 项目配置 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/blog/software/" class="" aria-label="软件使用"><!--[--><!--]--> 软件使用 <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/WarrenHewitt" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" placeholder="Search" autocomplete="off" spellcheck="false" value><!----></form></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/blog/frontEnd/" class="" aria-label="前端"><!--[--><!--]--> 前端 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/blog/backEnd/" class="" aria-label="后端"><!--[--><!--]--> 后端 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/blog/server/" class="router-link-active" aria-label="服务器"><!--[--><!--]--> 服务器 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/blog/tools/" class="" aria-label="工具方法"><!--[--><!--]--> 工具方法 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/blog/blog/" class="" aria-label="Blog"><!--[--><!--]--> Blog <!--[--><!--]--></a></div><div class="navbar-item"><a href="/blog/database/" class="" aria-label="数据库"><!--[--><!--]--> 数据库 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/blog/project/" class="" aria-label="项目配置"><!--[--><!--]--> 项目配置 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/blog/software/" class="" aria-label="软件使用"><!--[--><!--]--> 软件使用 <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/WarrenHewitt" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading active">Server <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/blog/server/bat" class="sidebar-item" aria-label="windows下,批处理语法"><!--[--><!--]--> windows下,批处理语法 <!--[--><!--]--></a><!----></li><li><a href="/blog/server/commandLine" class="sidebar-item" aria-label="commandLine"><!--[--><!--]--> commandLine <!--[--><!--]--></a><!----></li><li><a href="/blog/server/deployChanDao" class="sidebar-item" aria-label="deployChanDao"><!--[--><!--]--> deployChanDao <!--[--><!--]--></a><!----></li><li><a href="/blog/server/docker" class="sidebar-item" aria-label="docker"><!--[--><!--]--> docker <!--[--><!--]--></a><!----></li><li><a href="/blog/server/jenkins" class="sidebar-item" aria-label="jenkins"><!--[--><!--]--> jenkins <!--[--><!--]--></a><!----></li><li><a href="/blog/server/linux" class="sidebar-item" aria-label="linux"><!--[--><!--]--> linux <!--[--><!--]--></a><!----></li><li><a href="/blog/server/mobaXterm" class="sidebar-item" aria-label="mobaXterm"><!--[--><!--]--> mobaXterm <!--[--><!--]--></a><!----></li><li><a href="/blog/server/nginx" class="router-link-active sidebar-item active" aria-label="nginx"><!--[--><!--]--> nginx <!--[--><!--]--></a><!----></li><li><a href="/blog/server/psISE" class="sidebar-item" aria-label="psISE"><!--[--><!--]--> psISE <!--[--><!--]--></a><!----></li><li><a href="/blog/server/shell" class="sidebar-item" aria-label="shell"><!--[--><!--]--> shell <!--[--><!--]--></a><!----></li><li><a href="/blog/server/vMware" class="sidebar-item" aria-label="vMware"><!--[--><!--]--> vMware <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><nav class="table-of-contents"><ul><li><a aria-current="page" href="/blog/server/nginx.html#介绍" class="router-link-active router-link-exact-active">介绍</a></li><li><a aria-current="page" href="/blog/server/nginx.html#安装" class="router-link-active router-link-exact-active">安装</a><ul><li><a aria-current="page" href="/blog/server/nginx.html#windows-安装" class="router-link-active router-link-exact-active">windows 安装：</a></li><li><a aria-current="page" href="/blog/server/nginx.html#安装-1" class="router-link-active router-link-exact-active">安装</a></li><li><a aria-current="page" href="/blog/server/nginx.html#root-与-alias-的区别" class="router-link-active router-link-exact-active">root 与 alias 的区别:</a></li><li><a aria-current="page" href="/blog/server/nginx.html#http-缓存" class="router-link-active router-link-exact-active">http 缓存</a></li><li><a aria-current="page" href="/blog/server/nginx.html#配置html不缓存示例" class="router-link-active router-link-exact-active">配置html不缓存示例</a></li><li><a aria-current="page" href="/blog/server/nginx.html#配置-点击劫持" class="router-link-active router-link-exact-active">配置 点击劫持</a></li><li><a aria-current="page" href="/blog/server/nginx.html#关于-location-的路径映射" class="router-link-active router-link-exact-active">关于 location 的路径映射</a></li></ul></li><li><a aria-current="page" href="/blog/server/nginx.html#反向代理" class="router-link-active router-link-exact-active">反向代理</a></li><li><a aria-current="page" href="/blog/server/nginx.html#负载均衡" class="router-link-active router-link-exact-active">负载均衡</a></li><li><a aria-current="page" href="/blog/server/nginx.html#动静分离" class="router-link-active router-link-exact-active">动静分离</a></li><li><a aria-current="page" href="/blog/server/nginx.html#集群" class="router-link-active router-link-exact-active">集群</a></li></ul></nav><p>[toc]</p><h2 id="介绍" tabindex="-1"><a class="header-anchor" href="#介绍" aria-hidden="true">#</a> 介绍</h2><p>Nginx 是介于客户端与服务端的</p><p>特点： 1. 稳定性极强, 7*24小时不间断运行 2. 丰富的配置示例 3. 占用内存小，并发能力强（50000以上并发）</p><p>tomcat 150个并发</p><h2 id="安装" tabindex="-1"><a class="header-anchor" href="#安装" aria-hidden="true">#</a> 安装</h2><h3 id="windows-安装" tabindex="-1"><a class="header-anchor" href="#windows-安装" aria-hidden="true">#</a> windows 安装：</h3><ul><li>下载，解压到任意目录，进入包含 <code>Nginx.exe</code> 的目录，打开命令窗口，进入到该目录，运行 <code>start nginx</code></li></ul><p>如果启动失败 可以进入 logs 文件夹中的 error.log 文件产看是否有错误原因</p><p>启动成功后在任务管理器可以看到 nginx 的进程</p><ul><li>浏览器访问 <code>http://127.0.0.1/</code> 或 <code>locahost</code></li></ul><p>其它的一些操作</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>nginx -s stop 立即停止nginx,不保存相关信息

nginx -s quit 正常退出nginx,并保存相关信息

nginx -s reload 重启: 改变了配置等

第一次安装  service nginx start 启动一下

在安装目录下执行  ./nignx -v
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="安装-1" tabindex="-1"><a class="header-anchor" href="#安装-1" aria-hidden="true">#</a> 安装</h3><h4 id="centeos" tabindex="-1"><a class="header-anchor" href="#centeos" aria-hidden="true">#</a> centeOS</h4><p>默认安装地址 /etc/nginx</p><ul><li>安装 <code>yum -y install nginx</code></li><li>卸载 <code>yum remove nginx</code></li></ul><p>开启和停止等 查看 systemctl 命令</p><h4 id="ubuntu" tabindex="-1"><a class="header-anchor" href="#ubuntu" aria-hidden="true">#</a> Ubuntu</h4><p>sudo apt install nginx</p><p>nginx -t 显示信息 配置文件地址 进入配置文件后<strong>查看引入的文件</strong> 即可找到对应的默认配置</p><hr><ul><li>开了端口后 需要开防火墙</li></ul><h3 id="root-与-alias-的区别" tabindex="-1"><a class="header-anchor" href="#root-与-alias-的区别" aria-hidden="true">#</a> root 与 alias 的区别:</h3><p>主要在于怎么解释 location 后面的 url</p><p>root的处理结果是：root路径＋location路径</p><p>alias的处理结果是：使用alias路径替换location路径 （注意alias后面视情况是否要用 &#39;/&#39; 结束）</p><p>示例： 假设访问地址是 /t/x.html</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>location /t/ <span class="token punctuation">{</span>
    root http://www.xx.xx/   
    <span class="token comment"># 映射为  http://www.xx.xx/t/x.html</span>

    <span class="token builtin class-name">alias</span> http://www.xx.xx/   
    <span class="token comment"># 映射为  http://www.xx.xx/x.html</span>
<span class="token punctuation">}</span>   
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><ul><li><p>一个 server 块中可以有多个 location</p></li><li><p>更多默认配置和查看新安装的 Nginx 的 nginx.conf 文件</p></li></ul><h3 id="http-缓存" tabindex="-1"><a class="header-anchor" href="#http-缓存" aria-hidden="true">#</a> http 缓存</h3><ul><li>强制缓存 （浏览器不会向服务器发送任何请求，直接从本地缓存中读取缓存数据并返回 200 (disk cache | memory cache) 状态码）</li></ul><p>两种方式： （https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers/Cache-Control）</p><ul><li><p>Expires：Wed, 22 Oct 2018 08:41:00 GMT 该时间后过期 （Header上设置， 是 HTTP1.0 中的内容），该值是有服务端生成，而客户端的时间和服务端的时间有可能不一致，导致存在一定误差</p></li><li><p>Cache-Control （Header上设置， HTTP/1.1 优先级高于Expire）</p></li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 可缓存性</span>
public      <span class="token comment"># 表明响应可以被任何对象（包括：发送请求的客户端，代理服务器，等等）缓存，允许cdn缓存</span>
private     <span class="token comment"># 表明响应只能被单个用户缓存，不能作为共享缓存（即代理服务器不能缓存它）。私有缓存可以缓存响应内容，比如：用户的本地浏览器，禁止cdn缓存</span>
no-cache    <span class="token comment"># 浏览器会缓存资源，但每次都会向服务器确认资源是否发生改变，进行验证 (协商缓存验证)。</span>
no-store    <span class="token comment"># 不使用任何缓存</span>

<span class="token comment"># 过期相关</span>
max-age<span class="token operator">=</span><span class="token number">30</span>          <span class="token comment"># 30s后过期</span>
s-maxage<span class="token operator">=</span><span class="token operator">&lt;</span>seconds<span class="token operator">&gt;</span>  <span class="token comment"># 设置共享缓存。cdn缓存时长 会覆盖max-age和expires,私有缓存会忽略它</span>
max-stale<span class="token operator">=</span>秒数      <span class="token comment"># 客户端愿意接收一个已经过期的资源</span>
min-fresh<span class="token operator">=</span>秒数      <span class="token comment"># 客户端希望在指定的时间内获取最新的响应</span>

<span class="token comment"># 重新验证和加载</span>
must-revalidate    <span class="token comment"># 一旦资源过期（比如已经超过max-age），向服务器获取新资源</span>
proxy-revalidate
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>其它请求头</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>Pragma no-cache    <span class="token comment"># 用来向后兼容只支持 HTTP/1.0 协议的缓存服务器，它的行为与 Cache-Control: no-cache 一致</span>
Last-modified Date <span class="token comment"># 资源上次修改时间</span>
Etag string        <span class="token comment"># 资源的标识，一般为md5或者hash值</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><p>协商缓存 协商缓存会先向服务器发送一个请求，服务器会根据这个请求的 request header 的一些参数来判断是否命中协商缓存，如果命中，则返回 304 状态码并带上新的 response header 通知浏览器从缓存中读取资源。</p></li><li><p>使用 HTTP / 2.0</p></li><li><p>预加载</p></li></ul><h3 id="配置html不缓存示例" tabindex="-1"><a class="header-anchor" href="#配置html不缓存示例" aria-hidden="true">#</a> 配置html不缓存示例</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>location / <span class="token punctuation">{</span>
    root   html<span class="token punctuation">;</span>
    index  index.html index.htm<span class="token punctuation">;</span>

    <span class="token comment"># ~* 指定正则表达式返回 true 判断匹配不区分大小写</span>
    <span class="token comment"># 控制 html 不缓存</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$request_filename</span> ~* ^.*?.html$<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        add_header Cache-Control <span class="token string">&quot;private, no-store&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment"># 处理其它文件</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token variable">$request_uri</span> ~* /<span class="token punctuation">((</span>.*<span class="token punctuation">)</span><span class="token punctuation">\</span>.html?<span class="token punctuation">)</span>?$ <span class="token punctuation">)</span> <span class="token punctuation">{</span>
        add_header Cache-Control no-cache<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token variable">$request_uri</span> ~* /.*<span class="token punctuation">\</span>.<span class="token punctuation">(</span>js<span class="token operator">|</span>css<span class="token punctuation">)</span>$ <span class="token punctuation">)</span> <span class="token punctuation">{</span>
        add_header Cache-Control max-age<span class="token operator">=</span><span class="token number">86400</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="配置-点击劫持" tabindex="-1"><a class="header-anchor" href="#配置-点击劫持" aria-hidden="true">#</a> 配置 点击劫持</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>location / <span class="token punctuation">{</span>
    root   html<span class="token punctuation">;</span>
    index  index.html index.htm<span class="token punctuation">;</span>

    add_header X-Frame-Options DENY always<span class="token punctuation">;</span>
    <span class="token comment"># 如果指定了 always 参数 (1.7.5)，则无论响应代码如何，都将添加标头字段。</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment">#user  nobody;</span>
worker_processes  <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token comment">#pid        logs/nginx.pid;</span>


<span class="token comment"># 以上为全局块 </span>
<span class="token comment"># worker_processes 数值越大，Nginx 并发能力越强</span>
<span class="token comment"># error_log  错误日志存放的位置</span>
<span class="token comment"># pid  一般不用关注  Nginx 运行的标志</span>

events <span class="token punctuation">{</span>
    worker_connections  <span class="token number">1024</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment"># events块  </span>
<span class="token comment"># worker_connections 数值越大，Nginx 并发能力越强（这里的数据值一般是运维人员根据服务器来配置， worker_processes 也是如此）</span>


<span class="token comment"># 以下为http块</span>
<span class="token comment"># include 引入一个外部的文件 mime.types 里面放着大量的媒体类型</span>

http <span class="token punctuation">{</span>
    include       mime.types<span class="token punctuation">;</span>
    <span class="token comment"># 这里是默认使用的媒体类型</span>
    default_type  application/octet-stream<span class="token punctuation">;</span>

    sendfile        on<span class="token punctuation">;</span>
    <span class="token comment">#tcp_nopush     on;</span>

    <span class="token comment">#keepalive_timeout  0;</span>
    keepalive_timeout  <span class="token number">65</span><span class="token punctuation">;</span>

    <span class="token function">gzip</span> on<span class="token punctuation">;</span>
    <span class="token comment"># 动态压缩： 对每个请求先压缩再输出</span>
    <span class="token comment"># 静态压缩： 使用现成的名为 .gz 的压缩文件</span>
 
    <span class="token comment"># gzip_static on; </span>
    <span class="token comment"># 返回头中会出现 Content-Encoding: gzip</span>
    <span class="token comment"># 读取预先压缩的gz文件</span>

    <span class="token comment"># gzip_vary on; </span>
    <span class="token comment"># 如果代理服务器不使用 Vary，纯粹只是根据 请求URL和请求方法 来判断是否缓存命中，那不支持解压功能的 客户端 就可能会错误拿到代理服务器中的被压缩过的 # 数据；所以多加一层判断</span>
    <span class="token comment"># 返回响应头增加 Vary: Accept-Encoding ；客户端请求头 一般会携带支持的类型 Accept-Encoding:gzip, deflate, br</span>
    
    <span class="token comment"># gzip_proxied any;</span>
    <span class="token comment"># 禁止IE使用gzip 以免假死</span>
    gzip_disable <span class="token string">&quot;MSIE [1-6].&quot;</span><span class="token punctuation">;</span>
    <span class="token comment"># 不压缩小于256字节的文件</span>
    gzip_min_length <span class="token number">256</span><span class="token punctuation">;</span> 
    <span class="token comment"># gzip_proxied any;</span>
    <span class="token comment"># gzip压缩比，1压缩比最小处理速度最快，9压缩比最大但处理速度最慢(传输快但比较消耗cpu)</span>
    gzip_comp_level <span class="token number">2</span><span class="token punctuation">;</span>
    <span class="token comment"># gzip_buffers 16 8k;</span>
    <span class="token comment"># gzip_http_version 1.1;</span>
    <span class="token comment"># 表示压缩的文件类型</span>
    <span class="token comment"># gzip_types text/plain text/css application/json application/x-javascript text/xml application/xml application/xml+rss text/javascript;</span>

    <span class="token comment"># server块</span>
    <span class="token comment"># 这里的server块也可以通过 include 方式加载，可将server块独立开来，因为后期主要修改几乎为server块</span>
    <span class="token comment"># 引入的文件内容格式 </span>
    <span class="token comment"># server {</span>
    <span class="token comment"># }</span>
    server <span class="token punctuation">{</span>
        <span class="token comment"># Nginx 监听的端口号</span>
        listen       <span class="token number">80</span><span class="token punctuation">;</span>
        <span class="token comment"># 监听 ipv6的地址</span>
        <span class="token comment"># listen [::]:80</span>
        <span class="token comment"># Nginx接收请求的的域名</span>
        server_name  localhost<span class="token punctuation">;</span>

        <span class="token comment"># location块</span>
        location / <span class="token punctuation">{</span>
            <span class="token comment"># 重定向到指定地址</span>
            <span class="token comment"># proxy_pass http://localhost:2500/page/one;</span>
            
            <span class="token comment"># 将接收到的请求，根据 html  这个地址去查找静态资源</span>
            <span class="token comment"># 默认 /usr/share/nginx/html  或者  /var/www/html（当前是默认的这个）  具体的看配置文件，一般是 include 进来</span>
            root   html<span class="token punctuation">;</span>
            <span class="token comment"># 默认去上面的路径中查找 index.html 或者 index.htm</span>
            index  index.html index.htm<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="关于-location-的路径映射" tabindex="-1"><a class="header-anchor" href="#关于-location-的路径映射" aria-hidden="true">#</a> 关于 location 的路径映射</h3><p>优先级：</p><p>(location = ) &gt; (location /xxx/xx/x) &gt; (location ^~) &gt; (location ~, ~*) &gt; (location /起始路劲) &gt; (location /)</p><ol><li><code>=</code> 匹配</li></ol><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>location <span class="token operator">=</span> / <span class="token punctuation">{</span>
    <span class="token comment"># 精准匹配 主机域名后面不能带任何的字符串</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>通用匹配</li></ol><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>location /xxx <span class="token punctuation">{</span>
    <span class="token comment"># 匹配所有以 /xxx 开头的路径</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>正则匹配</li></ol><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>location ~/xxx <span class="token punctuation">{</span>
    <span class="token comment"># 匹配所有以 /xxx 开头的路径</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="4"><li>匹配开头路径</li></ol><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>location ^~/xxx <span class="token punctuation">{</span>
    <span class="token comment"># 匹配所有以 /xxx 开头的路径</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="5"><li>匹配结尾</li></ol><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>location ~* <span class="token punctuation">\</span>.<span class="token punctuation">(</span>gif<span class="token operator">|</span>jpg<span class="token punctuation">)</span>$ <span class="token punctuation">{</span>
    <span class="token comment"># 匹配所有以 .gif 或 .jpg 结尾的路径</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="反向代理" tabindex="-1"><a class="header-anchor" href="#反向代理" aria-hidden="true">#</a> 反向代理</h2><p>正向代理:</p><ol><li>代理服务器是由客户端设立的</li><li>客户端了解代理服务器和目标服务器是谁</li><li>帮助实现突破访问权限、提高访问速度、对目标服务器隐藏客户端的ip</li></ol><p>反向代理:</p><ol><li>反向代理服务器放在服务端</li><li>客户端不知道访问的是哪一台服务器</li><li>达到负载均衡，并且可以隐藏服务器的真正ip</li></ol><h2 id="负载均衡" tabindex="-1"><a class="header-anchor" href="#负载均衡" aria-hidden="true">#</a> 负载均衡</h2><p>根据相应的算法决定请求是发给哪个服务器</p><p>处理策略：</p><ol><li>轮询 轮流给每一个服务器派发 客户端的请求，平均分配</li></ol><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>upstream myServer <span class="token punctuation">{</span>
    <span class="token comment"># server ip:port;</span>
    server localhost:2500<span class="token punctuation">;</span>
    server localhost:1112<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
server <span class="token punctuation">{</span>
    location / <span class="token punctuation">{</span>
        proxy_pass http://myServer<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>权重 根据具体的服务器的处理能力，派发客户端的请求</li></ol><p>只需加上 weight</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>upstream myServer <span class="token punctuation">{</span>
    server localhost:2500 <span class="token assign-left variable">weight</span><span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">;</span>
    server localhost:1112 <span class="token assign-left variable">weight</span><span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>ip_hash 对请求ip 进行相关的处理，然后请求指定的服务器，如果ip 不变，请求的服务器将一直不变</li></ol><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>upstream myServer <span class="token punctuation">{</span>
    ip_hash<span class="token punctuation">;</span>
    <span class="token comment"># 下面是否加权重与 ip_hash无关</span>
    server localhost:2500 <span class="token assign-left variable">weight</span><span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">;</span>
    server localhost:1112 <span class="token assign-left variable">weight</span><span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="动静分离" tabindex="-1"><a class="header-anchor" href="#动静分离" aria-hidden="true">#</a> 动静分离</h2><p>动态资源 静态资源 分离</p><p>动态资源交给服务器，静态资源自己处理</p><p>Nginx 并发能力公式： <code>worker_processes * worker_connections / (4 | 2)</code> = 最终并发能力</p><p>动态资源除以4（因为多了请求服务器数据和接收服务器数据），静态资源除以2</p><ol><li>动态资源代理</li></ol><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>location / <span class="token punctuation">{</span>
    proxy_pass  url<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>静态资源代理</li></ol><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>location / <span class="token punctuation">{</span>
    root 静态资源路径<span class="token punctuation">;</span>
    index  默认访问路径下的什么资源<span class="token punctuation">;</span>
    autoindex on<span class="token punctuation">;</span> <span class="token comment"># 表示展示静态资源全部内容 以列表的形式</span>
<span class="token punctuation">}</span>

<span class="token comment"># 存在目录 /static/static 和 /static/image </span>
<span class="token comment"># 以下配置生效</span>
location /static <span class="token punctuation">{</span>
    root static<span class="token punctuation">;</span>
    index index.html<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

location /image <span class="token punctuation">{</span>
    root static<span class="token punctuation">;</span>
    autoindex on<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="集群" tabindex="-1"><a class="header-anchor" href="#集群" aria-hidden="true">#</a> 集群</h2><p>搭建集群后，使用Nginx做反向代理服务器</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># For more information on configuration, see:</span>
<span class="token comment">#   * Official English Documentation: http://nginx.org/en/docs/</span>
<span class="token comment">#   * Official Russian Documentation: http://nginx.org/ru/docs/</span>

user root<span class="token punctuation">;</span>
worker_processes <span class="token number">2</span><span class="token punctuation">;</span>
error_log /root/software/nginx/nginx-1.18.0/logs/error.log<span class="token punctuation">;</span>
pid /root/software/nginx/nginx-1.18.0/run/nginx.pid<span class="token punctuation">;</span>

<span class="token comment"># Load dynamic modules. See /usr/share/doc/nginx/README.dynamic.</span>
include /usr/share/nginx/modules/*.conf<span class="token punctuation">;</span>

events <span class="token punctuation">{</span>
    worker_connections <span class="token number">1024</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

http <span class="token punctuation">{</span>
    log_format  main  <span class="token string">&#39;$remote_addr - $remote_user [$time_local] &quot;$request&quot; &#39;</span>
                      <span class="token string">&#39;$status $body_bytes_sent &quot;$http_referer&quot; &#39;</span>
                      <span class="token string">&#39;&quot;$http_user_agent&quot; &quot;$http_x_forwarded_for&quot;&#39;</span><span class="token punctuation">;</span>

    access_log  /root/software/nginx/nginx-1.18.0/logs/access.log  main<span class="token punctuation">;</span>

    sendfile            on<span class="token punctuation">;</span>
    tcp_nopush          on<span class="token punctuation">;</span>
    tcp_nodelay         on<span class="token punctuation">;</span>
    keepalive_timeout   <span class="token number">65</span><span class="token punctuation">;</span>
    types_hash_max_size <span class="token number">2048</span><span class="token punctuation">;</span>

    include             /root/software/nginx/nginx-1.18.0/conf/mime.types<span class="token punctuation">;</span>
    default_type        application/octet-stream<span class="token punctuation">;</span>

    <span class="token comment"># Load modular configuration files from the /etc/nginx/conf.d directory.</span>
    <span class="token comment"># See http://nginx.org/en/docs/ngx_core_module.html#include</span>
    <span class="token comment"># for more information.</span>
    include /etc/nginx/conf.d/*.conf<span class="token punctuation">;</span>

    server <span class="token punctuation">{</span>
        listen       <span class="token number">80</span> default_server<span class="token punctuation">;</span>
        listen       <span class="token punctuation">[</span>::<span class="token punctuation">]</span>:80 default_server<span class="token punctuation">;</span>
        server_name  _<span class="token punctuation">;</span>
        root         /root/software/nginx/nginx-1.18.0/html<span class="token punctuation">;</span>

        <span class="token comment"># Load configuration files for the default server block.</span>
        include /etc/nginx/default.d/*.conf<span class="token punctuation">;</span>

        location / <span class="token punctuation">{</span>
            index  index.html index.htm<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        error_page <span class="token number">404</span> /404.html<span class="token punctuation">;</span>
            location <span class="token operator">=</span> /40x.html <span class="token punctuation">{</span>
        <span class="token punctuation">}</span>

        error_page <span class="token number">500</span> <span class="token number">502</span> <span class="token number">503</span> <span class="token number">504</span> /50x.html<span class="token punctuation">;</span>
            location <span class="token operator">=</span> /50x.html <span class="token punctuation">{</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><!--[--><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: heweimailbox@foxmail.com">Warren</span><!--[-->, <!--]--><!--]--><!--[--><span class="contributor" title="email: warrenemb@163.com">Warren</span><!----><!--]--><!--]--></span></div></footer><!----><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/blog/assets/app-502c1dea.js" defer></script>
  </body>
</html>
